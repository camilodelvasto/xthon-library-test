(("undefined"!==typeof self?self:this)["webpackJsonpxthon"]=("undefined"!==typeof self?self:this)["webpackJsonpxthon"]||[]).push([[11],{"0a33":function(e,t,i){},b3b0:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"field-wrapper layout-"+e.layout+" is-editing-"+e.editionIsEnabled},[i("UserDialog",{attrs:{spinner:e.userDialogSpinner,state:e.userDialogModal,"disable-close":e.userDialogSpinner},on:{"modal:close":function(t){e.closeUserDialog()}}},[i("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.userDialogHeading))]),i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[e._v(e._s(e.userDialogMessage))])])]),e.editionIsEnabled?i("div",{staticClass:"action-icons-wrapper",class:{"is-open":e.fieldIsOpen}},[i("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":e.fieldIsOpen},on:{click:function(t){e.openEdition()}}},[i("Icons",{staticClass:"action-icon",attrs:{icon:"pencil",iconwidth:"16px",iconheight:"16px",color:"#FFF"}})],1),i("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":!e.fieldIsOpen},on:{click:function(t){e.saveField()}}},[i("Icons",{staticClass:"action-icon",attrs:{icon:"check",iconwidth:"16px",iconheight:"16px",color:"#FFF"}})],1),i("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":!e.fieldIsOpen},on:{click:function(t){e.cancelEdition()}}},[i("Icons",{staticClass:"action-icon",attrs:{icon:"close-circle",iconwidth:"16px",iconheight:"16px",color:"#FFF"}})],1)]):e._e(),i("div",{staticClass:"editable-field-wrapper"},[e.fieldIsOpen?e._e():i("div",{staticClass:"input-non-editable-value",domProps:{innerHTML:e._s(e.value||e.placeholder)},on:{click:function(t){e.openEdition()}}}),e.editionIsEnabled&&e.fieldIsOpen?i("div",["textarea"===e.type?i("div",{staticClass:"action-buttons-wrapper"},[e.fieldIsOpen?i("button",{staticClass:"button is-warning button-cancel",on:{click:function(t){e.cancelEdition()}}},[e._v("Cancel")]):e._e(),e.fieldIsOpen?i("button",{staticClass:"button is-info button-save",on:{click:function(t){e.saveField()}}},[e._v("Save")]):e._e()]):e._e(),"checkbox"!==(e.type||"text")||"text"!==e.type&&"url"!==e.type&&"email"!==e.type?"radio"!==(e.type||"text")||"text"!==e.type&&"url"!==e.type&&"email"!==e.type?"text"===e.type||"url"===e.type||"email"===e.type?i("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],ref:"input",staticClass:"input-editable-value",attrs:{id:"input-editable_"+e._uid,placeholder:e.placeholder,type:e.type||"text"},domProps:{value:e.fieldValue},on:{blur:function(t){e.blurInput()},keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.cancelEdition()},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.saveField()}],keydown:function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?(t.preventDefault(),e.tabPressed(t)):null},input:function(t){t.target.composing||(e.fieldValue=t.target.value)}}}):e._e():i("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],ref:"input",staticClass:"input-editable-value",attrs:{id:"input-editable_"+e._uid,placeholder:e.placeholder,type:"radio"},domProps:{checked:e._q(e.fieldValue,null)},on:{blur:function(t){e.blurInput()},keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.cancelEdition()},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.saveField()}],keydown:function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?(t.preventDefault(),e.tabPressed(t)):null},change:function(t){e.fieldValue=null}}}):i("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],ref:"input",staticClass:"input-editable-value",attrs:{id:"input-editable_"+e._uid,placeholder:e.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(e.fieldValue)?e._i(e.fieldValue,null)>-1:e.fieldValue},on:{blur:function(t){e.blurInput()},keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.cancelEdition()},function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.saveField()}],keydown:function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?(t.preventDefault(),e.tabPressed(t)):null},change:function(t){var i=e.fieldValue,n=t.target,l=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&(e.fieldValue=i.concat([a])):o>-1&&(e.fieldValue=i.slice(0,o).concat(i.slice(o+1)))}else e.fieldValue=l}}}),"textarea"===e.type?i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fieldValue,expression:"fieldValue"}],ref:"input",staticClass:"input-editable-value",attrs:{id:"input-editable_"+e._uid,rows:e.calculateRows()},domProps:{value:e.fieldValue},on:{blur:function(t){e.blurInput()},keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.cancelEdition()},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.enterPressed(t):null}],keydown:function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?(t.preventDefault(),e.tabPressed(t)):null},input:function(t){t.target.composing||(e.fieldValue=t.target.value)}}}):e._e()]):e._e()]),i("transition",{attrs:{name:"slide-fade"}},[e.errorMessage?i("div",{staticClass:"editable-error-message-wrapper"},[i("span",{staticClass:"editable-error-message"},[e._v(e._s(e.errorMessage))])]):e._e()])],1)},l=[],a=(i("a481"),i("551c"),i("28a5"),i("4706")),o=i("2e53"),s=i("8bbf"),u=i.n(s),r={props:["type","value","errorText","allowEmpty","removeReturns","layout","location","placeholder","editionIsEnabled"],data:function(){return{userDialogSpinner:!0,userDialogModal:!1,userDialogHeading:"Processing...",userDialogMessage:"",fieldIsOpen:!1,fieldValue:this.value,errorMessage:"",blurTimeout:null}},components:{Icons:a["default"],UserDialog:function(){return i.e(1).then(i.bind(null,"b7cf"))}},methods:{cancelEdition:function(){this.fieldIsOpen=!1,this.errorMessage=""},openEdition:function(){var e=this;this.editionIsEnabled&&(this.fieldIsOpen=!0,this.fieldValue=this.value,u.a.nextTick(function(){e.$refs.input.focus()}))},calculateRows:function(){var e=this.fieldValue?Math.ceil(this.fieldValue.length/60):0;return this.fieldValue&&(e+=this.fieldValue.split(/\n/).length),e>2?e:2},saveField:function(){var e=this;if(this.fieldIsOpen)return new Promise(function(t,i){clearTimeout(e.blurTimeout),e.validateField()?(e.userDialogModal=!0,e.$store.dispatch("SAVE_INLINE_FIELD",{location:e.location,route:e.$route,value:e.fieldValue}).then(function(){e.cancelEdition(),e.fieldIsOpen=!1,e.userDialogModal=!1,t(e.fieldValue)}).catch(function(t){console.log(t),e.userDialogModal=!1,i(t)})):(e.errorMessage=e.errorText,e.userDialogModal=!1,t())})},tabPressed:function(e){var t=this;"textarea"===this.type&&this.removeTrailingReturn(),this.saveField().then(function(i){i&&(e.shiftKey?t.$emit("previous:field"):t.$emit("next:field"))}).catch(function(e){return e})},enterPressed:function(e){e.shiftKey||(this.removeTrailingReturn(),this.saveField())},removeTrailingReturn:function(){this.fieldValue&&(this.fieldValue=this.fieldValue.replace(/^[\r\n]+|[\r\n]+$/g,""))},blurInput:function(){var e=this;this.blurTimeout=setTimeout(function(){e.cancelEdition()},200)},validateField:function(){return"text"===this.type?!!o["m"](this.fieldValue,this.allowEmpty):"textarea"===this.type?!!o["m"](this.fieldValue,this.allowEmpty):"url"===this.type?!!o["n"](this.fieldValue):"email"===this.type?!!o["d"](this.fieldValue):void 0}},watch:{fieldValue:function(e){this.fieldValue&&(this.fieldValue=e.replace(/(\r\n|\r|\n){3,}/g,"$1\n"),this.removeReturns&&(this.fieldValue=e.replace(/(\r\n|\r|\n)/g,"")))}}},c=r,d=(i("f545"),i("2877")),f=Object(d["a"])(c,n,l,!1,null,"24240787",null);f.options.__file="InlineFieldEditor.vue";t["default"]=f.exports},f545:function(e,t,i){"use strict";var n=i("0a33"),l=i.n(n);l.a}}]);
//# sourceMappingURL=xthon.umd.min.11.js.map