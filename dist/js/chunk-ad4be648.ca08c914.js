(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad4be648","chunk-3c2340c2"],{"2de0":function(t,e,i){},"6c29":function(t,e,i){},"85e6":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"modal-title"},[t._v("Thank you for donating")]),i("form",[t.loggedIn?i("div",[t._m(0),t._m(1)]):t._e(),t.emailFound&&!t.loggedIn?i("div",[i("p",[t._v("We sent you a receipt. Your email matches an existing account. Enter your password to add this donation to your account. Doing that will also display your profile photo next to your donation and comment on "),"fundraiser"===t.parent&&t.fundraiser.participant?i("span",[t._v(t._s(t.fundraiser.participant.name))]):t._e(),"nonprofit"===t.parent?i("span",[t._v(t._s(t.nonprofit.NAME))]):t._e(),t._v("'s fundraiser page.")])]):t._e(),t.emailFound||t.loggedIn?t._e():i("div",[i("p",[t._v("We emailed you a receipt. To have your photo show next to your donation on "),"fundraiser"===t.parent&&t.fundraiser.participant?i("span",[t._v(t._s(t.fundraiser.participant.name))]):t._e(),"nonprofit"===t.parent?i("span",[t._v(t._s(t.nonprofit.NAME))]):t._e(),t._v("'s page of donations, receive access to all our websites and enjoy a host of features, create a free account with us via one of these services:")]),i("LogInModal",{attrs:{layout:"social-signup"}}),i("p",[t._v("Or add a password to create an account here:")])],1),t.loggedIn?t._e():i("div",[i("InputPassword",{attrs:{label:"Password",required:!0,duplicate:!0,"provide-feedback":!0},on:{"input:valid":function(e){t.validateAllFields()},"input:invalid":function(e){t.validateAllFields()},"input:password":function(e){t.form.password=e,t.errorMessage=""},"input:passwordConfirmation":function(e){t.form.passwordConfirmation=e,t.errorMessage=""}}}),i("div",{staticClass:"form-submit-wrapper",on:{click:function(e){e.preventDefault(),t.submitPassword()}}},[i("button",{staticClass:"button is-large is-danger",attrs:{disabled:t.submitButtonDisabled}},[t._v("Submit")]),t._m(2)])],1)])])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("We sent you a receipt. You can also access your donation in the future via "),i("a",[t._v("My Account.")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[t._v("{ Return to Susan's fundraser }")]),i("li",[t._v("{ Create your own fundraiser fundraser }")]),i("li",[t._v("{ Donate to support us }")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"small-text"},[t._v("By clicking Submit, you agree to the "),i("a",[t._v("Terms and Conditions")]),t._v(".")])}],s=i("4706"),a=i("e3b4"),r=i("9c9c"),l=i("2e53"),u={props:["parent","fundraiser","nonprofit"],data:function(){return{form:{},emailFound:!1,submitButtonDisabled:!1}},components:{Icons:s["default"],InputPassword:r["default"],LogInModal:a["default"]},computed:{email:function(){return this.$store.state.userActions.donation.email},loggedIn:function(){return this.$store.state.user.loggedIn}},methods:{validateAllFields:function(){var t=l["g"](this.form.password),e=t&&this.form.password===this.form.passwordConfirmation;t&&e||t&&this.emailFound?this.submitButtonDisabled=!1:this.submitButtonDisabled=!0},submitPassword:function(){var t=this;return this.submitButtonDisabled=!0,this.$store.dispatch("CREATE_USER",{email:this.email,password:this.form.password}).then(function(e){t.$emit("success",{data:e})}).catch(function(e){t.$emit("err",{err:e}),console.log(e)})}},mounted:function(){var t=this;return this.$store.dispatch("LOOK_UP_EMAIL",{email:this.email}).then(function(e){t.emailFound=!!e}).catch(function(t){console.log("error: ",t)})}},d=u,c=(i("f8bd"),i("2877")),f=Object(c["a"])(d,o,n,!1,null,"780754b4",null);f.options.__file="DonateThankYou.vue";e["default"]=f.exports},acfb:function(t,e,i){"use strict";var o=i("6c29"),n=i.n(o);n.a},e3b4:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"modal",class:{"is-active":t.showingLoginModal},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.validateSubmit()}}},[i("div",{staticClass:"modal-background",on:{click:function(e){t.closeLoginBox()}}}),i("div",{staticClass:"modal-content donate-view donate-view__wrapper inner-close small-modal"},[i("h1",{staticClass:"title-centered"},[t._t("heading",[t.loggedIn?i("span",[t._v("Your account")]):t._e(),t.loggedIn||t.register?t._e():i("span",[t._v("Login")]),!t.loggedIn&&t.register?i("span",[t._v("Register")]):t._e()])],2),t._t("intro",[t.loggedIn?t._e():i("p",{staticClass:"is-centered"},[t._v("Please log in with your email and password:")])]),i("div",{staticClass:"centered"},[t.loggedIn?i("p",[t._v("You are logged in as "+t._s(t.userName))]):t._e(),t.loggedIn?i("UserManagementLinks",{attrs:{layout:"header"},on:{"goto:account":function(e){t.closeLoginBox()}}}):t._e(),t.loggedIn?i("div",{on:{click:function(e){t.logUserOut()}}},[i("a",[t._v("Log Out »")])]):t._e()],1),i("transition",{attrs:{name:"slide-fade",mode:"out-in"}},[t.loggedIn?t._e():i("div",[i("form",{on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.validateSubmit()}}},[t.requireName?i("InputName",{attrs:{label:"Email (for the receipt):",required:!0},on:{"input:valid":function(e){t.validateAllFields()},"input:invalid":function(e){t.validateAllFields()},"input:first":function(e){t.form.firstname=e,t.errorMessage=""},"input:last":function(e){t.form.lastname=e,t.errorMessage=""}}}):t._e(),i("InputEmail",{attrs:{label:"Email",required:!0},on:{"input:valid":function(e){t.validateAllFields()},"input:invalid":function(e){t.validateAllFields()},"input:email":function(e){t.setEmail(e)}}}),i("InputPassword",{attrs:{label:"Password",required:!0,duplicate:t.register,"provide-feedback":t.register,"error-message":t.errorMessage},on:{"input:valid":function(e){t.validateAllFields()},"input:invalid":function(e){t.validateAllFields()},"input:password":function(e){t.form.password=e,t.errorMessage=""},"input:passwordConfirmation":function(e){t.form.passwordConfirmation=e,t.errorMessage=""}}})],1),i("div",{staticClass:"columns form-column__wrapper form-column__extra-padded input-line password-input-wrapper"},[i("div",{staticClass:"column is-5 form-column__label-column input-label"}),i("div",{staticClass:"column is-5 form-column__input-column"},[i("ModalForgetPassword",{key:t.forgetPasswordEmail,attrs:{email:t.forgetPasswordEmail}})],1)]),i("div",{staticClass:"columns is-centered"},[i("div",{staticClass:"form-submit-wrapper",on:{click:function(e){e.preventDefault(),t.loginOrRegister()}}},[i("button",{staticClass:"button is-large is-danger",attrs:{disabled:t.submitButtonDisabled}},[t._v("Submit")])])]),i("SocialLogin",[i("div",{staticClass:"social-login-wrapper columns is-centered",attrs:{slot:"header"},slot:"header"},[i("p",{staticClass:"is-centered"},[t._v("Or with one of the following services:")])])])],1)]),i("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){e.preventDefault(),t.closeLoginBox()}}})],2)]),"social-signup"===t.layout?i("div",[i("SocialLogin",{attrs:{"show-only":t.showOnly}})],1):t._e(),"app-header"===t.layout?i("div",[t.loggedIn?t._e():i("div",[i("span",{on:{click:function(e){t.openLoginBox()}}},[i("a",[t._v("Login")])]),t._v("\n      |\n      "),i("span",{on:{click:function(e){t.openLoginBox()}}},[i("a",[t._v("Register")])])]),t.loggedIn?i("div",{on:{click:function(e){t.openLoginBox()}}},[t._t("logged",[i("a",[t._v(t._s(t.userName)+" »")])])],2):t._e()]):t._e(),t.layout?t._e():i("div",[t.loggedIn?t._e():i("div",{staticClass:"trigger"},[i("span",{on:{click:function(e){t.openLoginBox()}}},[t._t("trigger")],2)]),t._t("intro")],2)])},n=[],s=i("4706"),a=i("853f"),r=i("ba03"),l=i("a4ab"),u=i("9c9c"),d=i("fa8f"),c=i("2e53"),f={props:["layout","login","signup","showOnly","display","requireName","register"],components:{Icons:s["default"],InputEmail:r["default"],InputName:l["a"],InputPassword:u["default"],ModalForgetPassword:a["a"],SocialLogin:d["a"],UserManagementLinks:function(){return i.e("chunk-0c21093c").then(i.bind(null,"90de"))}},data:function(){return{showingLoginModal:this.display||!1,errorMessage:"",welcomeMessage:"",submitButtonDisabled:!0,form:{},forgetPasswordEmail:"",timeout:null}},computed:{loggedIn:function(){return this.$store.state.user.loggedIn},userName:function(){return this.$store.state.user.fullname}},methods:{setEmail:function(t){this.form.email=t,this.forgetPasswordEmail=t},openLoginBox:function(){this.showingLoginModal=!0},closeLoginBox:function(){this.showingLoginModal=!1,clearTimeout(this.timeout),this.$emit("modal:close")},logUserOut:function(){this.$store.commit("LOG_OFF",{status:!1}),this.closeLoginBox()},validateSubmit:function(){this.submitButtonDisabled||this.logUserIn()},loginOrRegister:function(){this.register?this.closeLoginBox():this.logUserIn()},validateAllFields:function(){var t=c["f"](this.form.firstname)&&c["f"](this.form.lastname),e=c["g"](this.form.password)&&!this.register||c["g"](this.form.password)&&this.form.password===this.form.passwordConfirmation;e&&c["d"](this.form.email)&&(t&&this.requireName||!this.requireName)?this.submitButtonDisabled=!1:this.submitButtonDisabled=!0},logUserIn:function(){var t=this;if(!this.submitButtonDisabled)return this.submitButtonDisabled=!0,this.$store.dispatch("AUTHENTICATE_USER",{email:this.form.email,password:this.form.password}).then(function(e){e?(t.welcomeMessage="You are logged in, ".concat(t.userName),t.$emit("modal:logged"),t.timeout=setTimeout(function(){t.showingLoginModal=!1},6e3)):(t.validateAllFields(),t.errorMessage="Wrong password or email does not exist")}).catch(function(t){console.log("error: ",t)})}},watch:{display:function(t){t&&(this.showingLoginModal=t)}}},m=f,p=(i("acfb"),i("2877")),g=Object(p["a"])(m,o,n,!1,null,"2cbdc909",null);g.options.__file="LogInModal.vue";e["default"]=g.exports},f8bd:function(t,e,i){"use strict";var o=i("2de0"),n=i.n(o);n.a}}]);
//# sourceMappingURL=chunk-ad4be648.ca08c914.js.map