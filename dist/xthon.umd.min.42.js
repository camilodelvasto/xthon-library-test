(("undefined"!==typeof self?self:this)["webpackJsonpxthon"]=("undefined"!==typeof self?self:this)["webpackJsonpxthon"]||[]).push([[42],{1720:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"columns is-multiline is-mobile"},[i("div",{staticClass:"column is-4-tablet is-11-mobile"},[i("label",{attrs:{for:"input-editable_"+e._uid}},[e._v(e._s(e.label))])]),i("div",{staticClass:"column is-5-tablet is-7-mobile"},[e.fieldIsOpen?e._e():i("div",{staticClass:"edition-trigger",on:{click:function(t){e.openEdition()}}},[e.avatar?i("img",{attrs:{src:e.avatar,width:"200"}}):e._e(),e.avatar?e._e():i("avatar",{attrs:{username:e.$store.state.user.firstname+" "+e.$store.state.user.lastname,rounded:!1}})],1),e.fieldIsOpen?i("div",{staticClass:"edition-box"},[i("croppa",{attrs:{"initial-image":e.avatar,placeholder:"Select file","placeholder-font-size":20,"show-remove-button":!1},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.saveField()},"new-image":function(t){e.errorMessage=""}},model:{value:e.myCroppa,callback:function(t){e.myCroppa=t},expression:"myCroppa"}},[i("div",{attrs:{slot:"initial"},slot:"initial"},[e._v("Click here to upload a file")])]),i("div",{staticClass:"control"},[i("button",{staticClass:"button is-warning",on:{click:function(t){e.myCroppa.remove()}}},[e._v("Remove")]),i("button",{staticClass:"button is-success",on:{click:function(t){e.saveField()}}},[e._v("Generate")])]),e.fieldIsOpen?i("div",{staticClass:"instructions"},[i("p",[e._v("Move the picture around the frame to crop it. You can also scroll or pinch with two fingers to zoom.")]),i("p",[e._v("Click generate once ready to save the image.")])]):e._e()],1):e._e()]),i("div",{staticClass:"column is-3-tablet is-5-mobile is-pulled-right"},[i("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":e.fieldIsOpen},on:{click:function(t){e.openEdition()}}},[i("Icons",{staticClass:"action-icon",attrs:{icon:"pencil",iconwidth:"20px",iconheight:"20px",color:"#999"}})],1),i("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":!e.fieldIsOpen},on:{click:function(t){e.saveField()}}},[i("Icons",{staticClass:"action-icon",attrs:{icon:"check",iconwidth:"20px",iconheight:"20px",color:"#999"}})],1),i("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":!e.fieldIsOpen},on:{click:function(t){e.cancelEdition()},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.cancelEdition()}}},[i("Icons",{staticClass:"action-icon",attrs:{icon:"close-circle",iconwidth:"20px",iconheight:"20px",color:"#999"}})],1)]),i("transition",{attrs:{name:"slide-fade"}},[e.errorMessage?i("div",{staticClass:"column is-11-mobile is-6-tablet is-offset-4-tablet editable-error-message-wrapper"},[i("span",{staticClass:"editable-error-message"},[e._v(e._s(e.errorMessage))])]):e._e()])],1)])},n=[],a=i("4706"),o={props:["label","type","avatar","errorText"],data:function(){return{fieldIsOpen:!1,errorMessage:"",myCroppa:{}}},components:{Icons:a["default"],Avatar:function(){return i.e(66).then(i.t.bind(null,"4a89",7))}},methods:{cancelEdition:function(){this.fieldIsOpen=!1,this.errorMessage=""},openEdition:function(){this.fieldIsOpen=!0,this.errorMessage=""},saveField:function(){var e=this;this.myCroppa.generateBlob(function(t){t?(e.$emit("input:save",t),e.fieldIsOpen=!1):e.errorMessage=e.errorText},"image/jpeg",.8)}}},c=o,l=(i("4eab"),i("7bba"),i("2877")),r=Object(l["a"])(c,s,n,!1,null,"4c8a5663",null);r.options.__file="EditableImageField.vue";t["default"]=r.exports},"4eab":function(e,t,i){"use strict";var s=i("6b03"),n=i.n(s);n.a},"6b03":function(e,t,i){},"7bba":function(e,t,i){"use strict";var s=i("ece7"),n=i.n(s);n.a},ece7:function(e,t,i){}}]);
//# sourceMappingURL=xthon.umd.min.42.js.map