{"version":3,"sources":["webpack://xthon/./node_modules/core-js/modules/_flags.js","webpack://xthon/./src/components/input/InlineVideoEditor.vue?723c","webpack://xthon/src/components/input/InlineVideoEditor.vue","webpack://xthon/./src/components/input/InlineVideoEditor.vue?9e36","webpack://xthon/./src/components/input/InlineVideoEditor.vue","webpack://xthon/./src/components/input/InlineVideoEditor.vue?ea16","webpack://xthon/./src/util/validator.js","webpack://xthon/./node_modules/core-js/modules/es6.regexp.flags.js","webpack://xthon/./node_modules/core-js/modules/es6.regexp.match.js","webpack://xthon/./node_modules/core-js/modules/es6.regexp.to-string.js"],"names":["anObject","__webpack_require__","module","exports","that","this","result","global","ignoreCase","multiline","unicode","sticky","render","_vm","_h","$createElement","_c","_self","class","layout","attrs","spinner","userDialogSpinner","state","userDialogModal","disable-close","on","modal:close","$event","cancelEdition","slot","_v","_s","userDialogHeading","userDialogMessage","staticClass","click","openEdition","name","item","src","youTubeID","fieldIsOpen","key","videoSource","ref","_uid","data-plyr-provider","data-plyr-embed-id","_e","_m","directives","rawName","value","expression","type","domProps","keyup","_k","keyCode","saveVideo","input","target","composing","fieldValue","is-open","hide-icon","icon","iconwidth","iconheight","color","removeVideo","errorMessage","staticRenderFns","InlineVideoEditorvue_type_script_lang_js_","props","data","croppaObject","ratio","blurTimeout","components","Icons","LazyLoadedImage","VuePlyrWrapper","Promise","all","e","then","bind","UserDialog","computed","calculateWidth","window","$el","wrapperWidth","clientWidth","calculateHeight","mounted","openDefault","methods","$emit","concat","_this","id","$store","dispatch","location","route","$route","catch","err","console","log","_this2","oldSrc","newSrc","setTimeout","watch","openId","newValue","videoURL","videoID","validator","input_InlineVideoEditorvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InlineVideoEditor_vue_vue_type_style_index_0_id_e90769de_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_InlineVideoEditor_vue_vue_type_style_index_0_id_e90769de_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","validateEmail","email","re","test","String","toLowerCase","validateName","length","validatePassword","password","validatePasswordLength","validatePasswordNumber","validatePasswordCapital","validatePasswordLower","validatePasswordSpecial","validateCreditCardNumber","number","toString","validateExpirationDate","month","year","d","Date","currentYear","getFullYear","getMonth","validateZipCode","code","validateTextNoHtml","text","allowEmpty","replace","validateURL","url","getYouTubeID","match","formatNumber","newVal","oldVal","max","notANumber","isNaN","charAt","tooLarge","flags","f","RegExp","prototype","configurable","get","defined","MATCH","$match","regexp","O","fn","undefined","call","$flags","DESCRIPTORS","TO_STRING","$toString","define","source","R"],"mappings":"4KAEA,IAAAA,EAAeC,EAAQ,QACvBC,EAAAC,QAAA,WACA,IAAAC,EAAAJ,EAAAK,MACAC,EAAA,GAMA,OALAF,EAAAG,SAAAD,GAAA,KACAF,EAAAI,aAAAF,GAAA,KACAF,EAAAK,YAAAH,GAAA,KACAF,EAAAM,UAAAJ,GAAA,KACAF,EAAAO,SAAAL,GAAA,KACAA,6CCXA,IAAAM,EAAA,WAA0B,IAAAC,EAAAR,KAAaS,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAA,wBAAAL,EAAAM,QAA6C,CAAAH,EAAA,cAAmBI,MAAA,CAAOC,QAAAR,EAAAS,kBAAAC,MAAAV,EAAAW,gBAAAC,gBAAAZ,EAAAS,mBAAkGI,GAAA,CAAKC,cAAA,SAAAC,GAA+Bf,EAAAgB,mBAAsB,CAAAb,EAAA,OAAYI,MAAA,CAAOU,KAAA,UAAgBA,KAAA,UAAe,CAAAjB,EAAAkB,GAAAlB,EAAAmB,GAAAnB,EAAAoB,sBAAAjB,EAAA,OAAoDI,MAAA,CAAOU,KAAA,WAAiBA,KAAA,WAAgB,CAAAd,EAAA,KAAAH,EAAAkB,GAAAlB,EAAAmB,GAAAnB,EAAAqB,0BAAAlB,EAAA,OAAgEmB,YAAA,kCAA6C,CAAAnB,EAAA,OAAYmB,YAAA,eAA0B,CAAAnB,EAAA,OAAYU,GAAA,CAAIU,MAAA,SAAAR,GAAyBf,EAAAwB,iBAAoB,CAAArB,EAAA,cAAmBI,MAAA,CAAOkB,KAAA,eAAqB,CAAAzB,EAAA0B,KAAAC,KAAA3B,EAAA4B,WAAA5B,EAAA6B,YAAA1B,EAAA,kBAAAA,EAAA,YAAyF2B,IAAA9B,EAAA+B,YAAAC,IAAA,QAAAhC,EAAAiC,MAA6C,CAAA9B,EAAA,OAAYI,MAAA,CAAO2B,qBAAA,UAAAC,qBAAAnC,EAAA+B,kBAAqE,GAAA/B,EAAAoC,MAAA,OAAApC,EAAA,YAAAG,EAAA,OAAqDmB,YAAA,uBAAkC,CAAAnB,EAAA,OAAYmB,YAAA,SAAoB,CAAAtB,EAAAqC,GAAA,GAAAlC,EAAA,OAAsBmB,YAAA,cAAyB,CAAAnB,EAAA,OAAYmB,YAAA,SAAoB,CAAAnB,EAAA,KAAUmB,YAAA,WAAsB,CAAAnB,EAAA,SAAcmC,WAAA,EAAab,KAAA,QAAAc,QAAA,UAAAC,MAAAxC,EAAA,WAAAyC,WAAA,eAA8EnB,YAAA,uBAAAf,MAAA,CAA4CmC,KAAA,QAAcC,SAAA,CAAWH,MAAAxC,EAAA,YAAyBa,GAAA,CAAK+B,MAAA,SAAA7B,GAAyB,gBAAAA,IAAAf,EAAA6C,GAAA9B,EAAA+B,QAAA,WAAA/B,EAAAe,IAAA,SAAgF,YAAe9B,EAAA+C,aAAgBC,MAAA,SAAAjC,GAA0BA,EAAAkC,OAAAC,YAAsClD,EAAAmD,WAAApC,EAAAkC,OAAAT,qBAAqCxC,EAAAoC,OAAAjC,EAAA,OAAiCmB,YAAA,6BAAwC,CAAAnB,EAAA,OAAYmB,YAAA,uBAAAjB,MAAA,CAA0C+C,UAAApD,EAAA6B,cAA4B,CAAA1B,EAAA,OAAYmB,YAAA,sBAAAjB,MAAA,CAAyCgD,YAAArD,EAAA6B,aAA6BhB,GAAA,CAAKU,MAAA,SAAAR,GAAyBf,EAAAwB,iBAAoB,CAAArB,EAAA,SAAcmB,YAAA,cAAAf,MAAA,CAAiC+C,KAAA,SAAAC,UAAA,OAAAC,WAAA,OAAAC,MAAA,WAAuE,GAAAtD,EAAA,OAAgBmB,YAAA,sBAAAjB,MAAA,CAAyCgD,aAAArD,EAAA6B,aAA8BhB,GAAA,CAAKU,MAAA,SAAAR,GAAyBf,EAAA+C,eAAkB,CAAA5C,EAAA,SAAcmB,YAAA,cAAAf,MAAA,CAAiC+C,KAAA,QAAAC,UAAA,OAAAC,WAAA,OAAAC,MAAA,WAAsE,GAAAtD,EAAA,OAAgBmB,YAAA,sBAAAjB,MAAA,CAAyCgD,aAAArD,EAAA6B,aAA8BhB,GAAA,CAAKU,MAAA,SAAAR,GAAyBf,EAAAgB,mBAAsB,CAAAb,EAAA,SAAcmB,YAAA,cAAAf,MAAA,CAAiC+C,KAAA,eAAAC,UAAA,OAAAC,WAAA,OAAAC,MAAA,WAA6E,KAAAtD,EAAA,OAAkBmB,YAAA,kBAA6B,CAAAnB,EAAA,UAAemB,YAAA,oBAAAT,GAAA,CAAoCU,MAAA,SAAAR,GAAyBf,EAAA0D,iBAAoB,CAAA1D,EAAAkB,GAAA,YAAAlB,EAAA,YAAAG,EAAA,UAAoDmB,YAAA,oBAAAT,GAAA,CAAoCU,MAAA,SAAAR,GAAyBf,EAAA+C,eAAkB,CAAA/C,EAAAkB,GAAA,UAAAlB,EAAAoC,OAAApC,EAAA,YAAAG,EAAA,OAA0DmB,YAAA,gBAA2B,CAAAnB,EAAA,KAAAH,EAAAkB,GAAA,2FAAAf,EAAA,KAAAH,EAAAkB,GAAA,kDAAAlB,EAAAoC,SAAAjC,EAAA,cAA2MI,MAAA,CAAOkB,KAAA,eAAqB,CAAAzB,EAAA,aAAAG,EAAA,OAA+BmB,YAAA,kCAA6C,CAAAnB,EAAA,QAAamB,YAAA,0BAAqC,CAAAtB,EAAAkB,GAAAlB,EAAAmB,GAAAnB,EAAA2D,mBAAA3D,EAAAoC,QAAA,IAC3rGwB,EAAA,YAAoC,IAAA5D,EAAAR,KAAaS,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBmB,YAAA,yBAAoC,CAAAnB,EAAA,SAAcmB,YAAA,SAAoB,CAAAtB,EAAAkB,GAAA,uFCiF1L2C,EAAA,CACAC,MAAA,oDACAC,KAFA,WAGA,OACAC,aAAA,GACAC,MAAA,EACAxD,mBAAA,EACAE,iBAAA,EACAS,kBAAA,gBACAC,kBAAA,GACAQ,aAAA,EACAsB,WAAA3D,KAAAgD,MACAZ,UAAA,KACA+B,aAAA,GACAO,YAAA,OAGAC,WAAA,CACAC,QAAA,WACAC,kBAAA,WACAC,eAAA,kBAAAC,QAAAC,IAAA,CAAApF,EAAAqF,EAAA,IAAArF,EAAAqF,EAAA,MAAAC,KAAAtF,EAAAuF,KAAA,eACAC,WAAA,kBAAAxF,EAAAqF,EAAA,GAAAC,KAAAtF,EAAAuF,KAAA,gBAEAE,SAAA,CACAC,eADA,WAEA,wBAAAC,QAAA,qBAAAvF,KAAAwF,IACA,WAEA,IAAAC,EAAAzF,KAAAwF,IAAAE,YACA,OAAAD,EAAA,IAAAA,EAAA,OAEAE,gBARA,WASA,OAAA3F,KAAAsF,eAAAtF,KAAAyE,OAEAlC,YAXA,WAYA,OAAAvC,KAAAqC,YAGArC,KAAAoC,WAAApC,KAAAkC,KAAAC,IAFAnC,KAAAkC,KAAAC,KAAAnC,KAAAoC,YAKAwD,QAzCA,WA0CA5F,KAAA6F,aACA7F,KAAAgC,eAGA8D,QAAA,CACAtE,cADA,WAEAxB,KAAAqC,aAAA,EACArC,KAAAmE,aAAA,GACAnE,KAAAmB,iBAAA,EACAnB,KAAA+F,MAAA,gBAAA/F,KAAAyC,OAEAT,YAPA,WAQAhC,KAAAqC,aAAA,EACArC,KAAAuC,cACAvC,KAAA2D,WAAA,mCAAAqC,OAAAhG,KAAAuC,cAEAvC,KAAA+F,MAAA,eAAA/F,KAAAyC,OAEAyB,YAdA,WAcA,IAAA+B,EAAAjG,KACA,qBAAAA,KAAAkC,KAAAgE,GACAlG,KAAAmG,OAAAC,SAAA,gBAAAC,SAAArG,KAAAqG,SAAAC,MAAAtG,KAAAuG,OAAAL,GAAAlG,KAAAkC,KAAAgE,KACAhB,KAAA,WACAe,EAAAzE,kBAEAgF,MAAA,SAAAC,GACAC,QAAAC,IAAAF,KAGAzG,KAAAwB,iBAMA+B,UA9BA,WA8BA,IAAAqD,EAAA5G,KACA,IAAAA,KAAAoC,UAIA,OAHApC,KAAAmB,iBAAA,EACAnB,KAAA6B,kBAAA,uCACA7B,KAAAiB,mBAAA,GAGAjB,KAAAmB,iBAAA,EACAnB,KAAAiB,mBAAA,EACAjB,KAAAkC,KAAAC,IACAnC,KAAAmG,OAAAC,SAAA,gBACAC,SAAArG,KAAAqG,SAAAC,MAAAtG,KAAAuG,OAAAM,OAAA7G,KAAAkC,KAAAC,IAAA2E,OAAA9G,KAAAoC,YAEA8C,KAAA,WACA0B,EAAA3F,mBAAA,EACA2F,EAAA/E,kBAAA,8BACAkF,WAAA,WACAH,EAAApF,iBACA,OAEAgF,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAG,EAAA3F,mBAAA,EACA2F,EAAA/E,kBAAA,yCAGA7B,KAAAmG,OAAAC,SAAA,aAAAC,SAAArG,KAAAqG,SAAAC,MAAAtG,KAAAuG,OAAAnE,UAAApC,KAAAoC,YACA8C,KAAA,WACA0B,EAAA3F,mBAAA,EACA2F,EAAA/E,kBAAA,4BACAkF,WAAA,WACAH,EAAApF,iBACA,OAEAgF,MAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAG,EAAA3F,mBAAA,EACA2F,EAAA/E,kBAAA,2CAKAmF,MAAA,CAIAC,OAJA,SAIAC,GACAlH,KAAAqC,aACA6E,IAAAlH,KAAAyC,OACAzC,KAAAqC,aAAA,IAIAsB,WAXA,SAWAwD,GACA,IAAAC,EAAAC,EAAA,KAAAF,GAEAnH,KAAAoC,UADAgF,GAGA,QCxN0WE,EAAA,0BCQ1WC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA/G,EACA6D,GACF,EACA,KACA,WACA,MAIAmD,EAAAG,QAAAC,OAAA,wBACeC,EAAA,WAAAL,+CCpBf,IAAAM,EAAAjI,EAAA,QAAAkI,EAAAlI,EAAAmI,EAAAF,GAA8oBC,EAAG,qiBCC1oB,SAASE,EAAcC,GAC5B,IAAMC,EAAK,ybACX,OAAOA,EAAGC,KAAKC,OAAOH,GAAOI,eAGxB,SAASC,EAAarG,GAC3B,SAAIA,GAAQA,EAAKsG,QAAU,GAMtB,SAASC,EAAiBC,GAC/B,IAAMP,EAAK,gEACX,OAAOA,EAAGC,KAAKC,OAAOK,IAGjB,SAASC,EAAuBD,GACrC,OAAOA,EAASF,QAAU,EAGrB,SAASI,EAAuBF,GACrC,IAAMP,EAAK,YACX,OAAOA,EAAGC,KAAKC,OAAOK,IAGjB,SAASG,EAAwBH,GACtC,IAAMP,EAAK,eACX,OAAOA,EAAGC,KAAKC,OAAOK,IAGjB,SAASI,EAAsBJ,GACpC,IAAMP,EAAK,eACX,OAAOA,EAAGC,KAAKC,OAAOK,IAGjB,SAASK,EAAwBL,GACtC,IAAMP,EAAK,QACX,OAAOA,EAAGC,KAAKC,OAAOK,IAGjB,SAASM,EAAyBC,GACvC,QAAIA,GACkC,KAA7BA,EAAOC,WAAWV,OAKtB,SAASW,EAAuBC,EAAOC,GAC5C,IAAMC,EAAI,IAAIC,KACRC,EAAcF,EAAEG,cAAgB,IACtC,OAAIJ,EAAOG,GAGPJ,GAASE,EAAEI,YAAcL,IAASG,EAMjC,SAASG,EAAgBC,GAC9B,QAAIA,GACgC,IAA3BA,EAAKV,WAAWV,OAKpB,SAASqB,EAAmBC,EAAMC,GACvC,IAAM5B,EAAK,oBACX,OAAKA,EAAGC,KAAK0B,QACNA,GAA+C,IAAvCA,EAAKE,QAAQ,UAAW,IAAIxB,WACnCuB,GAUH,SAASE,EAAYC,GAC1B,IAAM/B,EAAK,sEACX,QAAIA,EAAGC,KAAK8B,GAMP,SAASC,EAAaD,GAC3B,IAAKA,EACH,OAAO,KAET,IAAM/B,EAAK,mEACLiC,EAAQF,EAAIE,MAAMjC,GACxB,OAAIiC,GAA6B,KAApBA,EAAM,GAAG5B,OACb4B,EAAM,GAER,KAGF,SAASC,EAAaC,EAAQC,EAAQC,GAC3C,IAAMC,EAAaH,GAAUI,MAAMJ,EAAOK,OAAOL,EAAO9B,OAAS,IAC3DoC,EAAWN,GAAUA,EAAO9B,OAASgC,EAC3C,OAAIC,GAAcG,EACTL,EAEFD,yBC3GLzK,EAAQ,SAAgB,UAAAgL,OAAwBhL,EAAQ,QAAciL,EAAAC,OAAAC,UAAA,SAC1EC,cAAA,EACAC,IAAOrL,EAAQ,gCCFfA,EAAQ,OAARA,CAAuB,mBAAAsL,EAAAC,EAAAC,GAEvB,gBAAAC,GACA,aACA,IAAAC,EAAAJ,EAAAlL,MACAuL,OAAAC,GAAAH,OAAAG,EAAAH,EAAAF,GACA,YAAAK,IAAAD,IAAAE,KAAAJ,EAAAC,GAAA,IAAAR,OAAAO,GAAAF,GAAA/C,OAAAkD,KACGF,0CCPHxL,EAAQ,QACR,IAAAD,EAAeC,EAAQ,QACvB8L,EAAa9L,EAAQ,QACrB+L,EAAkB/L,EAAQ,QAC1BgM,EAAA,WACAC,EAAA,IAAAD,GAEAE,EAAA,SAAAP,GACE3L,EAAQ,OAARA,CAAqBkL,OAAAC,UAAAa,EAAAL,GAAA,IAInB3L,EAAQ,OAARA,CAAkB,WAAe,MAAkD,QAAlDiM,EAAAJ,KAAA,CAAwBM,OAAA,IAAAnB,MAAA,QAC7DkB,EAAA,WACA,IAAAE,EAAArM,EAAAK,MACA,UAAAgG,OAAAgG,EAAAD,OAAA,IACA,UAAAC,IAAApB,OAAAe,GAAAK,aAAAlB,OAAAY,EAAAD,KAAAO,QAAAR,KAGCK,EAAA5J,MAAA2J,GACDE,EAAA,WACA,OAAAD,EAAAJ,KAAAzL","file":"xthon.umd.min.37.js","sourcesContent":["'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"field-wrapper layout-\" + _vm.layout)},[_c('UserDialog',{attrs:{\"spinner\":_vm.userDialogSpinner,\"state\":_vm.userDialogModal,\"disable-close\":_vm.userDialogSpinner},on:{\"modal:close\":function($event){_vm.cancelEdition()}}},[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(_vm._s(_vm.userDialogHeading))]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('p',[_vm._v(_vm._s(_vm.userDialogMessage))])])]),_c('div',{staticClass:\"columns editable-field-wrapper\"},[_c('div',{staticClass:\"column is-6\"},[_c('div',{on:{\"click\":function($event){_vm.openEdition()}}},[_c('transition',{attrs:{\"name\":\"slide-fade\"}},[(_vm.item.src || _vm.youTubeID && _vm.fieldIsOpen)?_c('VuePlyrWrapper',[_c('vue-plyr',{key:_vm.videoSource,ref:(\"plyr_\" + _vm._uid)},[_c('div',{attrs:{\"data-plyr-provider\":\"youtube\",\"data-plyr-embed-id\":_vm.videoSource}})])],1):_vm._e()],1)],1),(_vm.fieldIsOpen)?_c('div',{staticClass:\"video-input-wrapper\"},[_c('div',{staticClass:\"field\"},[_vm._m(0),_c('div',{staticClass:\"field-body\"},[_c('div',{staticClass:\"field\"},[_c('p',{staticClass:\"control\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fieldValue),expression:\"fieldValue\"}],staticClass:\"input-editable-value\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.fieldValue)},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.saveVideo()},\"input\":function($event){if($event.target.composing){ return; }_vm.fieldValue=$event.target.value}}})])])])])]):_vm._e()]),_c('div',{staticClass:\"column is-6 image-control\"},[_c('div',{staticClass:\"action-icons-wrapper\",class:{'is-open': _vm.fieldIsOpen}},[_c('div',{staticClass:\"action-icon-wrapper\",class:{'hide-icon': _vm.fieldIsOpen},on:{\"click\":function($event){_vm.openEdition()}}},[_c('Icons',{staticClass:\"action-icon\",attrs:{\"icon\":\"pencil\",\"iconwidth\":\"16px\",\"iconheight\":\"16px\",\"color\":\"#FFF\"}})],1),_c('div',{staticClass:\"action-icon-wrapper\",class:{'hide-icon': !_vm.fieldIsOpen},on:{\"click\":function($event){_vm.saveVideo()}}},[_c('Icons',{staticClass:\"action-icon\",attrs:{\"icon\":\"check\",\"iconwidth\":\"16px\",\"iconheight\":\"16px\",\"color\":\"#FFF\"}})],1),_c('div',{staticClass:\"action-icon-wrapper\",class:{'hide-icon': !_vm.fieldIsOpen},on:{\"click\":function($event){_vm.cancelEdition()}}},[_c('Icons',{staticClass:\"action-icon\",attrs:{\"icon\":\"close-circle\",\"iconwidth\":\"16px\",\"iconheight\":\"16px\",\"color\":\"#FFF\"}})],1)]),_c('div',{staticClass:\"button-wrapper\"},[_c('button',{staticClass:\"button is-warning\",on:{\"click\":function($event){_vm.removeVideo()}}},[_vm._v(\"Remove\")]),(_vm.fieldIsOpen)?_c('button',{staticClass:\"button is-success\",on:{\"click\":function($event){_vm.saveVideo()}}},[_vm._v(\"Save\")]):_vm._e()]),(_vm.fieldIsOpen)?_c('div',{staticClass:\"instructions\"},[_c('p',[_vm._v(\"Paste the YouTube URL of your video, like https://www.youtube.com/watch?v=yXrlhebkpIQ\")]),_c('p',[_vm._v(\"Click save to process and store the video.\")])]):_vm._e()])]),_c('transition',{attrs:{\"name\":\"slide-fade\"}},[(_vm.errorMessage)?_c('div',{staticClass:\"editable-error-message-wrapper\"},[_c('span',{staticClass:\"editable-error-message\"},[_vm._v(_vm._s(_vm.errorMessage))])]):_vm._e()])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field-label is-normal\"},[_c('label',{staticClass:\"label\"},[_vm._v(\"Paste here the YouTube URL of your video:\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"`field-wrapper layout-${layout}`\">\n    <UserDialog\n      :spinner=\"userDialogSpinner\"\n      :state=\"userDialogModal\"\n      :disable-close= \"userDialogSpinner\"\n      v-on:modal:close=\"cancelEdition()\"\n    >\n      <div slot=\"header\">{{userDialogHeading}}</div>\n      <div slot=\"content\"><p>{{userDialogMessage}}</p></div>\n    </UserDialog>\n    <div class=\"columns editable-field-wrapper\">\n      <div class=\"column is-6\">\n        <div\n          @click=\"openEdition()\"\n        >\n          <transition name=\"slide-fade\">\n            <VuePlyrWrapper v-if=\"item.src || youTubeID && fieldIsOpen\">\n              <vue-plyr :ref=\"`plyr_${_uid}`\" :key=\"videoSource\">\n                <div data-plyr-provider=\"youtube\" :data-plyr-embed-id=\"videoSource\"></div>\n              </vue-plyr>\n            </VuePlyrWrapper>\n          </transition>\n        </div>\n        <div class=\"video-input-wrapper\"\n          v-if=\"fieldIsOpen\"\n        >\n          <div class=\"field\">\n            <div class=\"field-label is-normal\">\n              <label class=\"label\">Paste here the YouTube URL of your video:</label>\n            </div>\n            <div class=\"field-body\">\n              <div class=\"field\">\n                <p class=\"control\">\n                  <input\n                    class=\"input-editable-value\"\n                    type=\"text\"\n                    v-model=\"fieldValue\"\n                    v-on:keyup.enter=\"saveVideo()\"\n                  />\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"column is-6 image-control\">\n        <div class=\"action-icons-wrapper\" :class=\"{'is-open': fieldIsOpen}\">\n          <div class=\"action-icon-wrapper\" @click=\"openEdition()\" :class=\"{'hide-icon': fieldIsOpen}\">\n            <Icons icon=\"pencil\" class=\"action-icon\" iconwidth=\"16px\" iconheight=\"16px\" color=\"#FFF\"></Icons>\n          </div>\n          <div class=\"action-icon-wrapper\" @click=\"saveVideo()\" :class=\"{'hide-icon': !fieldIsOpen}\">\n            <Icons icon=\"check\" class=\"action-icon\" iconwidth=\"16px\" iconheight=\"16px\" color=\"#FFF\"></Icons>\n          </div>\n          <div class=\"action-icon-wrapper\" @click=\"cancelEdition()\" :class=\"{'hide-icon': !fieldIsOpen}\">\n            <Icons icon=\"close-circle\" class=\"action-icon\" iconwidth=\"16px\" iconheight=\"16px\" color=\"#FFF\"></Icons>\n          </div>\n        </div>\n        <div class=\"button-wrapper\">\n          <button class=\"button is-warning\" @click=\"removeVideo()\">Remove</button>\n          <button class=\"button is-success\" @click=\"saveVideo()\" v-if=\"fieldIsOpen\">Save</button>\n        </div>\n        <div class=\"instructions\" v-if=\"fieldIsOpen\">\n          <p>Paste the YouTube URL of your video, like https://www.youtube.com/watch?v=yXrlhebkpIQ</p>\n          <p>Click save to process and store the video.</p>\n        </div>\n      </div>\n    </div>\n      <transition name=\"slide-fade\">\n        <div class=\"editable-error-message-wrapper\" v-if=\"errorMessage\">\n          <span class=\"editable-error-message\">{{errorMessage}}</span>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Icons from '@/components/general/Icons.vue';\nimport * as validator from '../../util/validator.js';\nimport LazyLoadedImage from '@/components/plugins/LazyLoadedImage.js';\n\nexport default {\n  props: ['item', 'layout', 'location', 'openId', 'openDefault'],\n  data() {\n    return {\n      croppaObject: {},\n      ratio: 1,\n      userDialogSpinner: true,\n      userDialogModal: false,\n      userDialogHeading: 'Processing...',\n      userDialogMessage: '',\n      fieldIsOpen: false,\n      fieldValue: this.value,\n      youTubeID: null,\n      errorMessage: '',\n      blurTimeout: null,\n    };\n  },\n  components: {\n    Icons,\n    LazyLoadedImage,\n    VuePlyrWrapper: () => import('@/components/general/VuePlyrWrapper.vue'),\n    UserDialog: () => import('@/components/general/UserDialog.vue'),\n  },\n  computed: {\n    calculateWidth() {\n      if (typeof window === 'undefined' || typeof this.$el === 'undefined') {\n        return 400;\n      }\n      const wrapperWidth = this.$el.clientWidth;\n      return wrapperWidth < 400 ? wrapperWidth - 6 : 400;\n    },\n    calculateHeight() {\n      return this.calculateWidth * this.ratio;\n    },\n    videoSource() {\n      if (!this.fieldIsOpen) {\n        return this.item.src || this.youTubeID;\n      }\n      return this.youTubeID || this.item.src;\n    },\n  },\n  mounted() {\n    if (this.openDefault) {\n      this.openEdition();\n    }\n  },\n  methods: {\n    cancelEdition() {\n      this.fieldIsOpen = false;\n      this.errorMessage = '';\n      this.userDialogModal = false;\n      this.$emit('edition:close', this._uid);\n    },\n    openEdition() {\n      this.fieldIsOpen = true;\n      if (this.videoSource) {\n        this.fieldValue = `https://www.youtube.com/watch?v=${this.videoSource}`;\n      }\n      this.$emit('edition:open', this._uid);\n    },\n    removeVideo() {\n      if (typeof this.item.id !== 'undefined') {\n        this.$store.dispatch('REMOVE_VIDEO', { location: this.location, route: this.$route, id: this.item.id })\n          .then(() => {\n            this.cancelEdition();\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n      } else {\n        this.cancelEdition();\n      }\n    },\n    /*\n     * This method will save an image to the library if it can be validated.\n     */\n    saveVideo() {\n      if (!this.youTubeID) {\n        this.userDialogModal = true;\n        this.userDialogMessage = 'Please add a valid YouTube URL.';\n        this.userDialogSpinner = false;\n        return;\n      }\n      this.userDialogModal = true;\n      this.userDialogSpinner = true;\n      if (this.item.src) {\n        this.$store.dispatch('UPDATE_VIDEO', {\n          location: this.location, route: this.$route, oldSrc: this.item.src, newSrc: this.youTubeID,\n        })\n          .then(() => {\n            this.userDialogSpinner = false;\n            this.userDialogMessage = 'The video has been updated.';\n            setTimeout(() => {\n              this.cancelEdition();\n            }, 4000);\n          })\n          .catch((err) => {\n            console.log(err);\n            this.userDialogSpinner = false;\n            this.userDialogMessage = 'An error occurred. Please try again.';\n          });\n      } else {\n        this.$store.dispatch('ADD_VIDEO', { location: this.location, route: this.$route, youTubeID: this.youTubeID })\n          .then(() => {\n            this.userDialogSpinner = false;\n            this.userDialogMessage = 'The video has been added.';\n            setTimeout(() => {\n              this.cancelEdition();\n            }, 4000);\n          })\n          .catch((err) => {\n            console.log(err);\n            this.userDialogSpinner = false;\n            this.userDialogMessage = 'An error occurred. Please try again.';\n          });\n      }\n    },\n  },\n  watch: {\n    /*\n     * Close this instance if another one was opened.\n     */\n    openId(newValue) {\n      if (this.fieldIsOpen) {\n        if (newValue !== this._uid) {\n          this.fieldIsOpen = false;\n        }\n      }\n    },\n    fieldValue(videoURL) {\n      const videoID = validator.getYouTubeID(videoURL);\n      if (videoID) {\n        this.youTubeID = videoID;\n      } else {\n        this.youTubeID = null;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.action-icon-wrapper {\n  height: 16px;\n  line-height: 16px;\n  display: inline-block;\n  padding: 0 3px;\n  transition: opacity 0.1s ease-in-out;\n}\n.hide-icon {\n  opacity: 0.4;\n  &:hover {\n    cursor: disabled;\n  }\n}\n\n.field-wrapper {\n  position: relative;\n  margin-bottom: 20px;\n}\n.action-icons-wrapper {\n  background: rgba($color-text, 0.8);\n  border-radius: 5px;\n  display: inline;\n  padding: 0 5px;\n  line-height: 24px;\n  height: 24px;\n  font-size: 20px;\n  top: 10px;\n  right: 80px;\n  transition: background-color 0.2s ease-in-out;\n  &.is-open {\n    background: rgba($blue, 0.8);\n  }\n}\n\n.input-editable-value {\n  font-weight: normal;\n  font-size: 20px;\n  line-height: 1.4;\n  height: 28px;\n  width: 100%;\n  padding: 20px 5px;\n  text-align: center;\n  border: 1px solid $color-light-gray;\n}\n\n.video-input-wrapper {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 220px;\n  background: rgba($color-text, 0.4);\n  color: $white;\n}\n.image-control {\n  .action-icons-wrapper {\n    width: 100%;\n  }\n  .button-wrapper {\n    display: block;\n    margin-top: 5px;\n    .button {\n      margin-right: 5px;\n    }\n  }\n}\n.inline-image-item {\n  width: 100%;\n  max-width: 600px;\n}\n.croppa-container {\n  background: rgba($color-light-gray, 1);\n  border: 3px solid $blue;\n}\n.instructions {\n  margin-top: 20px;\n}\n.media-item {\n  max-width: 600px;\n}\n\n.orientation-wrapper {\n  div {\n    display: inline;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineVideoEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineVideoEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InlineVideoEditor.vue?vue&type=template&id=e90769de&scoped=true&\"\nimport script from \"./InlineVideoEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./InlineVideoEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InlineVideoEditor.vue?vue&type=style&index=0&id=e90769de&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e90769de\",\n  null\n  \n)\n\ncomponent.options.__file = \"InlineVideoEditor.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineVideoEditor.vue?vue&type=style&index=0&id=e90769de&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InlineVideoEditor.vue?vue&type=style&index=0&id=e90769de&scoped=true&lang=scss&\"","// Source: https://stackoverflow.com/a/1373724\nexport function validateEmail(email) {\n  const re = /^(?:[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/; // eslint-disable-line max-len\n  return re.test(String(email).toLowerCase());\n}\n\nexport function validateName(name) {\n  if (name && name.length >= 2) {\n    return true;\n  }\n  return false;\n}\n\nexport function validatePassword(password) {\n  const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W|_])[A-Za-z\\d\\W|_]{8,}/;\n  return re.test(String(password));\n}\n\nexport function validatePasswordLength(password) {\n  return password.length >= 8;\n}\n\nexport function validatePasswordNumber(password) {\n  const re = /^(?=.*\\d)/;\n  return re.test(String(password));\n}\n\nexport function validatePasswordCapital(password) {\n  const re = /^(?=.*[A-Z])/;\n  return re.test(String(password));\n}\n\nexport function validatePasswordLower(password) {\n  const re = /^(?=.*[a-z])/;\n  return re.test(String(password));\n}\n\nexport function validatePasswordSpecial(password) {\n  const re = /\\W|_/g;\n  return re.test(String(password));\n}\n\nexport function validateCreditCardNumber(number) {\n  if (number) {\n    return number.toString().length === 16;\n  }\n  return false;\n}\n\nexport function validateExpirationDate(month, year) {\n  const d = new Date();\n  const currentYear = d.getFullYear() - 2000;\n  if (year > currentYear) {\n    return true;\n  }\n  if (month >= d.getMonth() && year === currentYear) {\n    return true;\n  }\n  return false;\n}\n\nexport function validateZipCode(code) {\n  if (code) {\n    return code.toString().length === 5;\n  }\n  return false;\n}\n\nexport function validateTextNoHtml(text, allowEmpty) {\n  const re = /<[a-z/][\\s\\S]*>/i;\n  if (!re.test(text)) {\n    if (!text || text.replace(/[\\n\\r]/g, '').length === 0) {\n      if (allowEmpty) {\n        return true;\n      }\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function validateURL(url) {\n  const re = /^((http|https):\\/\\/)?(www.)?[a-z0-9]+\\.[a-z]+(\\/[a-zA-Z0-9#]+\\/?)*$/;\n  if (re.test(url)) {\n    return true;\n  }\n  return false;\n}\n\nexport function getYouTubeID(url) {\n  if (!url) {\n    return null;\n  }\n  const re = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|\\&v=)([^#\\&\\?]*).*/; // eslint-disable-line no-useless-escape\n  const match = url.match(re);\n  if (match && match[2].length === 11) {\n    return match[2];\n  }\n  return null;\n}\n\nexport function formatNumber(newVal, oldVal, max) {\n  const notANumber = newVal && isNaN(newVal.charAt(newVal.length - 1));\n  const tooLarge = newVal && newVal.length > max;\n  if (notANumber || tooLarge) {\n    return oldVal;\n  }\n  return newVal;\n}\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match) {\n  // 21.1.3.11 String.prototype.match(regexp)\n  return [function match(regexp) {\n    'use strict';\n    var O = defined(this);\n    var fn = regexp == undefined ? undefined : regexp[MATCH];\n    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n  }, $match];\n});\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n"],"sourceRoot":""}