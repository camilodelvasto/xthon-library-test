(("undefined"!==typeof self?self:this)["webpackJsonpxthon"]=("undefined"!==typeof self?self:this)["webpackJsonpxthon"]||[]).push([[41],{1573:function(e,i,t){"use strict";t.r(i);var n=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{class:"field-wrapper layout-"+e.layout+" is-editing-"+e.editionIsEnabled},[t("UserDialog",{attrs:{spinner:e.userDialogSpinner,state:e.userDialogModal,"disable-close":e.userDialogSpinner},on:{"modal:close":function(i){e.closeUserDialog()}}},[t("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.userDialogHeading))]),t("div",{attrs:{slot:"content"},slot:"content"},[t("p",[e._v(e._s(e.userDialogMessage))])])]),e.editionIsEnabled?t("div",{staticClass:"action-icons-wrapper",class:{"is-open":e.fieldIsOpen}},[t("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":e.fieldIsOpen},on:{click:function(i){e.openEdition()}}},[t("Icons",{staticClass:"action-icon",attrs:{icon:"pencil",iconwidth:"16px",iconheight:"16px",color:"#FFF"}})],1),t("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":!e.fieldIsOpen},on:{click:function(i){e.saveField()}}},[t("Icons",{staticClass:"action-icon",attrs:{icon:"check",iconwidth:"16px",iconheight:"16px",color:"#FFF"}})],1),t("div",{staticClass:"action-icon-wrapper",class:{"hide-icon":!e.fieldIsOpen},on:{click:function(i){e.cancelEdition()}}},[t("Icons",{staticClass:"action-icon",attrs:{icon:"close-circle",iconwidth:"16px",iconheight:"16px",color:"#FFF"}})],1)]):e._e(),t("div",{staticClass:"action-buttons-wrapper"},[e.fieldIsOpen?t("button",{staticClass:"button is-warning button-cancel",on:{click:function(i){e.cancelEdition()}}},[e._v("Cancel")]):e._e(),e.fieldIsOpen?t("button",{staticClass:"button is-info button-save",on:{click:function(i){e.saveField()}}},[e._v("Save")]):e._e()]),t("div",{staticClass:"editable-field-wrapper"},[e.fieldIsOpen?e._e():t("div",{staticClass:"input-non-editable-value",domProps:{innerHTML:e._s(e.value||e.placeholder)},on:{click:function(i){e.openEdition()}}}),e.editionIsEnabled&&e.fieldIsOpen?t("div",[t("wysiwyg",{model:{value:e.fieldValue,callback:function(i){e.fieldValue=i},expression:"fieldValue"}})],1):e._e()]),t("transition",{attrs:{name:"slide-fade"}},[e.errorMessage?t("div",{staticClass:"editable-error-message-wrapper"},[t("span",{staticClass:"editable-error-message"},[e._v(e._s(e.errorMessage))])]):e._e()])],1)},s=[],o=(t("551c"),t("4706")),a={props:["type","value","errorText","allowEmpty","removeReturns","layout","location","placeholder","editionIsEnabled","defaultOpen"],data:function(){return{userDialogSpinner:!0,userDialogModal:!1,userDialogHeading:"Processing...",userDialogMessage:"",fieldIsOpen:!1,fieldValue:this.value,errorMessage:"",blurTimeout:null}},components:{Icons:o["default"],UserDialog:function(){return t.e(1).then(t.bind(null,"b7cf"))}},methods:{cancelEdition:function(){this.fieldIsOpen=!1,this.errorMessage="",this.$emit("edit:close")},openEdition:function(){this.editionIsEnabled&&(this.fieldIsOpen=!0,this.fieldValue=this.value)},saveField:function(){var e=this;if(this.fieldIsOpen)return this.location?new Promise(function(i,t){clearTimeout(e.blurTimeout),e.fieldValue?(e.userDialogModal=!0,console.log("content: ",e.fieldValue),e.$store.dispatch("SAVE_INLINE_FIELD",{location:e.location,route:e.$route,value:e.fieldValue}).then(function(){e.cancelEdition(),e.fieldIsOpen=!1,e.userDialogModal=!1,i(e.fieldValue)}).catch(function(i){console.log(i),e.userDialogModal=!1,t(i)})):(e.errorMessage=e.errorText,e.userDialogModal=!1,i())}):(this.$emit("edit:save"),void this.cancelEdition())},tabPressed:function(e){var i=this;this.saveField().then(function(t){t&&(e.shiftKey?i.$emit("previous:field"):i.$emit("next:field"))}).catch(function(e){return e})},enterPressed:function(e){e.shiftKey||this.saveField()},blurInput:function(){var e=this;this.blurTimeout=setTimeout(function(){e.cancelEdition()},200)}},mounted:function(){t("a6a5"),this.defaultOpen&&this.openEdition()}},l=a,c=(t("1b2b"),t("b1f8"),t("2877")),r=Object(c["a"])(l,n,s,!1,null,"a9fb4eb8",null);r.options.__file="InlineRichTextEditor.vue";i["default"]=r.exports},"1b2b":function(e,i,t){"use strict";var n=t("9acc"),s=t.n(n);s.a},"385e":function(e,i,t){},"9acc":function(e,i,t){},a6a5:function(e,i,t){"use strict";t.r(i);var n=t("8bbf"),s=t.n(n),o=t("7aa6"),a=t.n(o);s.a.use(a.a,{hideModules:{justifyLeft:!0,justifyCenter:!0,justifyRight:!0,code:!0,table:!0},forcePlainTextOnPaste:!0})},b1f8:function(e,i,t){"use strict";var n=t("385e"),s=t.n(n);s.a}}]);
//# sourceMappingURL=xthon.umd.min.41.js.map