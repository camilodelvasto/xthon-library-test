{"version":3,"sources":["webpack://xthon/./src/components/general/FloatingShareTools.vue?65c1","webpack://xthon/src/components/general/FloatingShareTools.vue","webpack://xthon/./src/components/general/FloatingShareTools.vue?c177","webpack://xthon/./src/components/general/FloatingShareTools.vue","webpack://xthon/./src/util/sharer.js","webpack://xthon/./src/components/general/FloatingShareTools.vue?8d9a"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","class","toolbar-visible","isVisible","_v","on","click","$event","fb","attrs","iconwidth","iconheight","icon","color","tweet","linkedIn","staticRenderFns","FloatingShareToolsvue_type_script_lang_js_","props","components","Icons","data","methods","handleScroll","nonpScrolltop","$refs","nonpToolbar","getBoundingClientRect","top","window","pageYOffset","document","documentElement","scrollTop","docHeight","undefined","height","body","offsetHeight","y","sharer","urlParams","text","via","title","email","mounted","addEventListener","destroyed","removeEventListener","general_FloatingShareToolsvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","shareOnTwitter","arguments","length","shareUrl","concat","location","origin","pathname","newText","stripTags","substring","shareServiceUrl","popUpWindow","encodeURIComponent","encodeURI","shareOnLinkedIn","shareByEmail","querySelector","shareOnFacebook","FB","ui","method","href","quote","hashtag","response","url","w","h","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","clientWidth","screen","innerHeight","clientHeight","left","newWindow","open","focus","replace","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FloatingShareTools_vue_vue_type_style_index_0_id_9b2e3270_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_style_resources_loader_lib_index_js_ref_8_oneOf_1_4_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_FloatingShareTools_vue_vue_type_style_index_0_id_9b2e3270_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"xthon.umd.min.49.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"nonpToolbar\"},[_c('div',{staticClass:\"share-toolbar__outer-wrapper\",class:{'toolbar-visible': _vm.isVisible}},[_c('h5',[_vm._v(\"Share\")]),_c('div',{staticClass:\"share-toolbar__share-wrapper\"},[_c('div',{staticClass:\"share-toolbar__share-item share-toolbar__share-share\",on:{\"click\":function($event){_vm.fb()}}},[_c('Icons',{staticClass:\"icon\",attrs:{\"iconwidth\":\"24px\",\"iconheight\":\"24px\",\"icon\":\"facebook\",\"color\":\"#666\"}})],1),_c('div',{staticClass:\"share-toolbar__share-item share-toolbar__share-comment\",on:{\"click\":function($event){_vm.tweet()}}},[_c('Icons',{staticClass:\"icon\",attrs:{\"iconwidth\":\"24px\",\"iconheight\":\"24px\",\"icon\":\"twitter\",\"color\":\"#666\"}})],1),_c('div',{staticClass:\"share-toolbar__share-item share-toolbar__share-donate\",on:{\"click\":function($event){_vm.linkedIn()}}},[_c('Icons',{staticClass:\"icon\",attrs:{\"iconwidth\":\"24px\",\"iconheight\":\"24px\",\"icon\":\"linkedin\",\"color\":\"#666\"}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\" ref=\"nonpToolbar\">\n    <div class=\"share-toolbar__outer-wrapper\" :class=\"{'toolbar-visible': isVisible}\">\n      <h5>Share</h5>\n      <div class=\"share-toolbar__share-wrapper\">\n        <div class=\"share-toolbar__share-item share-toolbar__share-share\" @click=\"fb()\">\n          <Icons iconwidth=\"24px\" iconheight=\"24px\" icon=\"facebook\" color=\"#666\" class=\"icon\" />\n        </div>\n        <div class=\"share-toolbar__share-item share-toolbar__share-comment\" @click=\"tweet()\">\n          <Icons iconwidth=\"24px\" iconheight=\"24px\" icon=\"twitter\" color=\"#666\" class=\"icon\" />\n        </div>\n        <div class=\"share-toolbar__share-item share-toolbar__share-donate\" @click=\"linkedIn()\">\n          <Icons iconwidth=\"24px\" iconheight=\"24px\" icon=\"linkedin\" color=\"#666\" class=\"icon\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.share-toolbar {\n  &__outer-wrapper {\n    padding: 5px;\n    background: yellow;\n    display: inline-block;\n    text-align: center;\n    z-index: 10;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    transition: opacity 0.3s ease-in-out;\n\n    @include breakpoint($widescreen) {\n      right: unset;\n      bottom: unset;\n      top: 20px;\n      left: calc((100vw - 960px)/2 - 110px);\n    }\n\n    @include breakpoint($fullhd) {\n      left: calc((100vw - 1152px)/2 - 100px);\n    }\n    h5 {\n      display: none;\n      color: $color-text;\n      @include breakpoint($widescreen) {\n        display: block;\n        font-size: 14px;\n      }\n    }\n  }\n  &__share-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n\n    @include breakpoint($widescreen) {\n      flex-direction: column;\n    }\n  }\n  &__share-item {\n    margin: 0 10px;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n  &__share-share,\n  &__share-donate {\n    .icon {\n      margin-right: 4px;\n    }\n  }\n}\n\n.toolbar-visible {\n  position: fixed;\n  opacity: 1;\n}\n\n</style>\n\n<script>\nimport Icons from '@/components/general/Icons.vue';\nimport * as sharer from '../../util/sharer.js';\n\nexport default {\n  props: ['urlParams', 'text', 'via', 'title'],\n  components: {\n    Icons,\n  },\n  data() {\n    return {\n      isVisible: false,\n    };\n  },\n  methods: {\n    handleScroll() {\n      const nonpScrolltop = this.$refs.nonpToolbar.getBoundingClientRect();\n      const top = window.pageYOffset || document.documentElement.scrollTop;\n      const docHeight = (document.height !== undefined) ? document.height : document.body.offsetHeight;\n      if (nonpScrolltop.y < 93 && top < docHeight - 1000) {\n        this.isVisible = true;\n      } else {\n        this.isVisible = false;\n      }\n    },\n    fb() {\n      if (this.isVisible) {\n        sharer.shareOnFacebook(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n    tweet() {\n      if (this.isVisible) {\n        sharer.shareOnTwitter(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n    linkedIn() {\n      if (this.isVisible) {\n        sharer.shareOnLinkedIn(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n    email() {\n      if (this.isVisible) {\n        sharer.shareByEmail(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n  },\n  mounted() {\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  destroyed() {\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FloatingShareTools.vue?vue&type=template&id=9b2e3270&scoped=true&\"\nimport script from \"./FloatingShareTools.vue?vue&type=script&lang=js&\"\nexport * from \"./FloatingShareTools.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FloatingShareTools.vue?vue&type=style&index=0&id=9b2e3270&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b2e3270\",\n  null\n  \n)\n\ncomponent.options.__file = \"FloatingShareTools.vue\"\nexport default component.exports","/**\n * Share utilities. Includes a pop-up window and sharer utilities\n * coded specifically for each service.\n * The functions can be invoked with urlParams to be added on top of the current URL to be shared.\n */\nexport function shareOnTwitter(urlParams = '', text, via, title) {\n  let shareUrl = `${window.location.origin}${window.location.pathname}`;\n  let newText = stripTags(text);\n  if (urlParams) {\n    shareUrl += `?${urlParams}`;\n  }\n  if (newText.length > 111) {\n    newText = `${newText.substring(0, 111)}...`;\n  }\n  const shareServiceUrl = 'https://twitter.com/intent/tweet/';\n  popUpWindow(`${shareServiceUrl}?url=${encodeURIComponent(shareUrl)}&text=${encodeURI(newText)}&via=${encodeURI(via)}`, `${encodeURI(title)}`, 450, 320);\n}\n\nexport function shareOnLinkedIn(urlParams, text, via, title) {\n  let shareUrl = `${window.location.origin}${window.location.pathname}`;\n  const shareServiceUrl = 'http://www.linkedin.com/shareArticle/';\n  let newText = stripTags(text);\n  if (urlParams) {\n    shareUrl += `?${urlParams}`;\n  }\n  if (newText.length > 211) {\n    newText = `${newText.substring(0, 211)}...`;\n  }\n  popUpWindow(`${shareServiceUrl}?mini=true&url=${encodeURIComponent(shareUrl)}&text=${encodeURI(newText)}`, `${encodeURI(title)}`, 650, 420);\n}\n\nexport function shareByEmail(urlParams, text, via, title) {\n  document.querySelector('.at-share-btn').click();\n}\n\nexport function shareOnFacebook(urlParams, text, via, title) {\n  let shareUrl = `${window.location.origin}${window.location.pathname}`;\n  if (urlParams) {\n    shareUrl += `?${urlParams}`;\n  }\n  let newText = stripTags(text);\n  if (newText.length > 140) {\n    newText = `${newText.substring(0, 140)}...`;\n  }\n  if (window) {\n    window.FB.ui({\n      method: 'share',\n      href: encodeURIComponent(shareUrl),\n      quote: encodeURI(newText),\n      hashtag: `#${via}`,\n    }, response => response);\n  }\n}\n\nexport function popUpWindow(url, title, w, h) {\n  // Credit goes to https://stackoverflow.com/a/16861050/1176464\n  // Fixes dual-screen position                         Most browsers      Firefox\n  const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n\n  const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n  const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n  const left = ((width / 2) - (w / 2)) + dualScreenLeft;\n  const top = ((height / 2) - (h / 2)) + dualScreenTop;\n  const newWindow = window.open(url, title, `scrollbars=yes, width=${w}, height=${h}, top=${top}, left=${left}`);\n\n  // Puts focus on the newWindow\n  if (window.focus) {\n    newWindow.focus();\n  }\n}\n\nfunction stripTags(text) {\n  return text.replace(/(<([^>]+)>)/ig, '');\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=style&index=0&id=9b2e3270&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=style&index=0&id=9b2e3270&scoped=true&lang=scss&\""],"sourceRoot":""}