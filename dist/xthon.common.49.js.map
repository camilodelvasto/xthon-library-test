{"version":3,"sources":["webpack://xthon/./src/components/general/FloatingShareTools.vue?011b","webpack://xthon/src/components/general/FloatingShareTools.vue","webpack://xthon/./src/components/general/FloatingShareTools.vue?c177","webpack://xthon/./src/components/general/FloatingShareTools.vue","webpack://xthon/./src/util/sharer.js","webpack://xthon/./src/components/general/FloatingShareTools.vue?8d9a","webpack://xthon/./src/components/general/FloatingShareTools.vue?0397"],"names":["shareOnTwitter","urlParams","text","via","title","shareUrl","window","location","origin","pathname","newText","stripTags","length","substring","shareServiceUrl","popUpWindow","encodeURIComponent","encodeURI","shareOnLinkedIn","shareByEmail","document","querySelector","click","shareOnFacebook","FB","ui","method","href","quote","hashtag","response","url","w","h","dualScreenLeft","screenLeft","undefined","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","top","newWindow","open","focus","replace"],"mappings":"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","file":"xthon.common.49.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"nonpToolbar\"},[_c('div',{staticClass:\"share-toolbar__outer-wrapper\",class:{'toolbar-visible': _vm.isVisible}},[_c('h5',[_vm._v(\"Share\")]),_c('div',{staticClass:\"share-toolbar__share-wrapper\"},[_c('div',{staticClass:\"share-toolbar__share-item share-toolbar__share-share\",on:{\"click\":function($event){_vm.fb()}}},[_c('Icons',{staticClass:\"icon\",attrs:{\"iconwidth\":\"24px\",\"iconheight\":\"24px\",\"icon\":\"facebook\",\"color\":\"#666\"}})],1),_c('div',{staticClass:\"share-toolbar__share-item share-toolbar__share-comment\",on:{\"click\":function($event){_vm.tweet()}}},[_c('Icons',{staticClass:\"icon\",attrs:{\"iconwidth\":\"24px\",\"iconheight\":\"24px\",\"icon\":\"twitter\",\"color\":\"#666\"}})],1),_c('div',{staticClass:\"share-toolbar__share-item share-toolbar__share-donate\",on:{\"click\":function($event){_vm.linkedIn()}}},[_c('Icons',{staticClass:\"icon\",attrs:{\"iconwidth\":\"24px\",\"iconheight\":\"24px\",\"icon\":\"linkedin\",\"color\":\"#666\"}})],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\" ref=\"nonpToolbar\">\n    <div class=\"share-toolbar__outer-wrapper\" :class=\"{'toolbar-visible': isVisible}\">\n      <h5>Share</h5>\n      <div class=\"share-toolbar__share-wrapper\">\n        <div class=\"share-toolbar__share-item share-toolbar__share-share\" @click=\"fb()\">\n          <Icons iconwidth=\"24px\" iconheight=\"24px\" icon=\"facebook\" color=\"#666\" class=\"icon\" />\n        </div>\n        <div class=\"share-toolbar__share-item share-toolbar__share-comment\" @click=\"tweet()\">\n          <Icons iconwidth=\"24px\" iconheight=\"24px\" icon=\"twitter\" color=\"#666\" class=\"icon\" />\n        </div>\n        <div class=\"share-toolbar__share-item share-toolbar__share-donate\" @click=\"linkedIn()\">\n          <Icons iconwidth=\"24px\" iconheight=\"24px\" icon=\"linkedin\" color=\"#666\" class=\"icon\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.share-toolbar {\n  &__outer-wrapper {\n    padding: 5px;\n    background: yellow;\n    display: inline-block;\n    text-align: center;\n    z-index: 10;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    transition: opacity 0.3s ease-in-out;\n\n    @include breakpoint($widescreen) {\n      right: unset;\n      bottom: unset;\n      top: 20px;\n      left: calc((100vw - 960px)/2 - 110px);\n    }\n\n    @include breakpoint($fullhd) {\n      left: calc((100vw - 1152px)/2 - 100px);\n    }\n    h5 {\n      display: none;\n      color: $color-text;\n      @include breakpoint($widescreen) {\n        display: block;\n        font-size: 14px;\n      }\n    }\n  }\n  &__share-wrapper {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n\n    @include breakpoint($widescreen) {\n      flex-direction: column;\n    }\n  }\n  &__share-item {\n    margin: 0 10px;\n    &:hover {\n      cursor: pointer;\n    }\n  }\n  &__share-share,\n  &__share-donate {\n    .icon {\n      margin-right: 4px;\n    }\n  }\n}\n\n.toolbar-visible {\n  position: fixed;\n  opacity: 1;\n}\n\n</style>\n\n<script>\nimport Icons from '@/components/general/Icons.vue';\nimport * as sharer from '../../util/sharer.js';\n\nexport default {\n  props: ['urlParams', 'text', 'via', 'title'],\n  components: {\n    Icons,\n  },\n  data() {\n    return {\n      isVisible: false,\n    };\n  },\n  methods: {\n    handleScroll() {\n      const nonpScrolltop = this.$refs.nonpToolbar.getBoundingClientRect();\n      const top = window.pageYOffset || document.documentElement.scrollTop;\n      const docHeight = (document.height !== undefined) ? document.height : document.body.offsetHeight;\n      if (nonpScrolltop.y < 93 && top < docHeight - 1000) {\n        this.isVisible = true;\n      } else {\n        this.isVisible = false;\n      }\n    },\n    fb() {\n      if (this.isVisible) {\n        sharer.shareOnFacebook(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n    tweet() {\n      if (this.isVisible) {\n        sharer.shareOnTwitter(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n    linkedIn() {\n      if (this.isVisible) {\n        sharer.shareOnLinkedIn(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n    email() {\n      if (this.isVisible) {\n        sharer.shareByEmail(this.urlParams, this.text, this.via, this.title);\n      }\n    },\n  },\n  mounted() {\n    window.addEventListener('scroll', this.handleScroll);\n  },\n  destroyed() {\n    window.removeEventListener('scroll', this.handleScroll);\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FloatingShareTools.vue?vue&type=template&id=9b2e3270&scoped=true&\"\nimport script from \"./FloatingShareTools.vue?vue&type=script&lang=js&\"\nexport * from \"./FloatingShareTools.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FloatingShareTools.vue?vue&type=style&index=0&id=9b2e3270&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b2e3270\",\n  null\n  \n)\n\ncomponent.options.__file = \"FloatingShareTools.vue\"\nexport default component.exports","/**\n * Share utilities. Includes a pop-up window and sharer utilities\n * coded specifically for each service.\n * The functions can be invoked with urlParams to be added on top of the current URL to be shared.\n */\nexport function shareOnTwitter(urlParams = '', text, via, title) {\n  let shareUrl = `${window.location.origin}${window.location.pathname}`;\n  let newText = stripTags(text);\n  if (urlParams) {\n    shareUrl += `?${urlParams}`;\n  }\n  if (newText.length > 111) {\n    newText = `${newText.substring(0, 111)}...`;\n  }\n  const shareServiceUrl = 'https://twitter.com/intent/tweet/';\n  popUpWindow(`${shareServiceUrl}?url=${encodeURIComponent(shareUrl)}&text=${encodeURI(newText)}&via=${encodeURI(via)}`, `${encodeURI(title)}`, 450, 320);\n}\n\nexport function shareOnLinkedIn(urlParams, text, via, title) {\n  let shareUrl = `${window.location.origin}${window.location.pathname}`;\n  const shareServiceUrl = 'http://www.linkedin.com/shareArticle/';\n  let newText = stripTags(text);\n  if (urlParams) {\n    shareUrl += `?${urlParams}`;\n  }\n  if (newText.length > 211) {\n    newText = `${newText.substring(0, 211)}...`;\n  }\n  popUpWindow(`${shareServiceUrl}?mini=true&url=${encodeURIComponent(shareUrl)}&text=${encodeURI(newText)}`, `${encodeURI(title)}`, 650, 420);\n}\n\nexport function shareByEmail(urlParams, text, via, title) {\n  document.querySelector('.at-share-btn').click();\n}\n\nexport function shareOnFacebook(urlParams, text, via, title) {\n  let shareUrl = `${window.location.origin}${window.location.pathname}`;\n  if (urlParams) {\n    shareUrl += `?${urlParams}`;\n  }\n  let newText = stripTags(text);\n  if (newText.length > 140) {\n    newText = `${newText.substring(0, 140)}...`;\n  }\n  if (window) {\n    window.FB.ui({\n      method: 'share',\n      href: encodeURIComponent(shareUrl),\n      quote: encodeURI(newText),\n      hashtag: `#${via}`,\n    }, response => response);\n  }\n}\n\nexport function popUpWindow(url, title, w, h) {\n  // Credit goes to https://stackoverflow.com/a/16861050/1176464\n  // Fixes dual-screen position                         Most browsers      Firefox\n  const dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : window.screenX;\n  const dualScreenTop = window.screenTop !== undefined ? window.screenTop : window.screenY;\n\n  const width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;\n  const height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;\n\n  const left = ((width / 2) - (w / 2)) + dualScreenLeft;\n  const top = ((height / 2) - (h / 2)) + dualScreenTop;\n  const newWindow = window.open(url, title, `scrollbars=yes, width=${w}, height=${h}, top=${top}, left=${left}`);\n\n  // Puts focus on the newWindow\n  if (window.focus) {\n    newWindow.focus();\n  }\n}\n\nfunction stripTags(text) {\n  return text.replace(/(<([^>]+)>)/ig, '');\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=style&index=0&id=9b2e3270&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FloatingShareTools.vue?vue&type=style&index=0&id=9b2e3270&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}