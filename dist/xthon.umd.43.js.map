{"version":3,"sources":["webpack://xthon/./src/components/donate/DonateThankYou.vue?3eae","webpack://xthon/./src/components/general/LogInModal.vue?d9f0","webpack://xthon/./src/components/donate/DonateThankYou.vue?9add","webpack://xthon/src/components/donate/DonateThankYou.vue","webpack://xthon/./src/components/donate/DonateThankYou.vue?be1f","webpack://xthon/./src/components/donate/DonateThankYou.vue","webpack://xthon/./src/components/general/LogInModal.vue?b5a4","webpack://xthon/./src/components/general/LogInModal.vue?bfa5","webpack://xthon/src/components/general/LogInModal.vue","webpack://xthon/./src/components/general/LogInModal.vue?d642","webpack://xthon/./src/components/general/LogInModal.vue","webpack://xthon/./src/components/donate/DonateThankYou.vue?c695"],"names":[],"mappings":"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","file":"xthon.umd.43.js","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"modal-title\"},[_vm._v(\"Thank you for donating\")]),_c('form',[(_vm.loggedIn)?_c('div',[_vm._m(0),_vm._m(1)]):_vm._e(),(_vm.emailFound && !_vm.loggedIn)?_c('div',[_c('p',[_vm._v(\"We sent you a receipt. Your email matches an existing account. Enter your password to add this donation to your account. Doing that will also display your profile photo next to your donation and comment on \"),(_vm.parent === 'fundraiser' && _vm.fundraiser.participant)?_c('span',[_vm._v(_vm._s(_vm.fundraiser.participant.name))]):_vm._e(),(_vm.parent === 'nonprofit')?_c('span',[_vm._v(_vm._s(_vm.nonprofit.NAME))]):_vm._e(),_vm._v(\"'s fundraiser page.\")])]):_vm._e(),(!_vm.emailFound && !_vm.loggedIn)?_c('div',[_c('p',[_vm._v(\"We emailed you a receipt. To have your photo show next to your donation on \"),(_vm.parent === 'fundraiser' && _vm.fundraiser.participant)?_c('span',[_vm._v(_vm._s(_vm.fundraiser.participant.name))]):_vm._e(),(_vm.parent === 'nonprofit')?_c('span',[_vm._v(_vm._s(_vm.nonprofit.NAME))]):_vm._e(),_vm._v(\"'s page of donations, receive access to all our websites and enjoy a host of features, create a free account with us via one of these services:\")]),_c('LogInModal',{attrs:{\"layout\":\"social-signup\"}}),_c('p',[_vm._v(\"Or add a password to create an account here:\")])],1):_vm._e(),(!_vm.loggedIn)?_c('div',[_c('InputPassword',{attrs:{\"label\":\"Password\",\"required\":true,\"duplicate\":true,\"provide-feedback\":true},on:{\"input:valid\":function($event){_vm.validateAllFields()},\"input:invalid\":function($event){_vm.validateAllFields()},\"input:password\":function($event){_vm.form.password = $event; _vm.errorMessage = ''},\"input:passwordConfirmation\":function($event){_vm.form.passwordConfirmation = $event; _vm.errorMessage = ''}}}),_c('div',{staticClass:\"form-submit-wrapper\",on:{\"click\":function($event){$event.preventDefault();_vm.submitPassword()}}},[_c('button',{staticClass:\"button is-large is-danger\",attrs:{\"disabled\":_vm.submitButtonDisabled}},[_vm._v(\"Submit\")]),_vm._m(2)])],1):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"We sent you a receipt. You can also access your donation in the future via \"),_c('a',[_vm._v(\"My Account.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\"{ Return to Susan's fundraser }\")]),_c('li',[_vm._v(\"{ Create your own fundraiser fundraser }\")]),_c('li',[_vm._v(\"{ Donate to support us }\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"small-text\"},[_vm._v(\"By clicking Submit, you agree to the \"),_c('a',[_vm._v(\"Terms and Conditions\")]),_vm._v(\".\")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1 class=\"modal-title\">Thank you for donating</h1>\n    <form>\n      <div v-if=\"loggedIn\">\n        <p>We sent you a receipt. You can also access your donation in the future via <a>My Account.</a></p>\n        <ul>\n          <li>{ Return to Susan's fundraser }</li>\n          <li>{ Create your own fundraiser fundraser }</li>\n          <li>{ Donate to support us }</li>\n        </ul>\n      </div>\n      <div v-if=\"emailFound && !loggedIn\">\n        <p>We sent you a receipt. Your email matches an existing account. Enter your password to add this donation to your account. Doing that will also display your profile photo next to your donation and comment on <span v-if=\"parent === 'fundraiser' && fundraiser.participant\">{{fundraiser.participant.name}}</span><span v-if=\"parent === 'nonprofit'\">{{nonprofit.NAME}}</span>'s fundraiser page.</p>\n      </div>\n      <div v-if=\"!emailFound && !loggedIn\">\n        <p>We emailed you a receipt. To have your photo show next to your donation on <span v-if=\"parent === 'fundraiser' && fundraiser.participant\">{{fundraiser.participant.name}}</span><span v-if=\"parent === 'nonprofit'\">{{nonprofit.NAME}}</span>'s page of donations, receive access to all our websites and enjoy a host of features, create a free account with us via one of these services:</p>\n        <LogInModal layout=\"social-signup\"></LogInModal>\n        <p>Or add a password to create an account here:</p>\n      </div>\n      <div v-if=\"!loggedIn\">\n        <InputPassword\n          label=\"Password\"\n          :required=\"true\"\n          :duplicate=\"true\"\n          :provide-feedback=\"true\"\n          v-on:input:valid=\"validateAllFields()\"\n          v-on:input:invalid=\"validateAllFields()\"\n          v-on:input:password=\"form.password = $event; errorMessage = ''\"\n          v-on:input:passwordConfirmation=\"form.passwordConfirmation = $event; errorMessage = ''\"\n        ></InputPassword>\n\n        <div class=\"form-submit-wrapper\" @click.prevent=\"submitPassword()\">\n          <button class=\"button is-large is-danger\"\n            :disabled=\"submitButtonDisabled\"\n          >Submit</button>\n          <span class=\"small-text\">By clicking Submit, you agree to the <a>Terms and Conditions</a>.</span>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport Icons from '@/components/general/Icons.vue';\nimport LogInModal from '@/components/general/LogInModal.vue';\nimport InputPassword from '@/components/input/InputPassword.vue';\nimport * as validator from '../../util/validator.js';\n\nexport default {\n  props: ['parent', 'fundraiser', 'nonprofit'],\n  data() {\n    return {\n      form: {},\n      emailFound: false,\n      submitButtonDisabled: false,\n    };\n  },\n  components: {\n    Icons,\n    InputPassword,\n    LogInModal,\n  },\n  computed: {\n    email() {\n      return this.$store.state.userActions.donation.email;\n    },\n    loggedIn() {\n      return this.$store.state.user.loggedIn;\n    },\n  },\n  methods: {\n    validateAllFields() {\n      const validPass = validator.validatePassword(this.form.password);\n      const validPassConf = validPass && this.form.password === this.form.passwordConfirmation;\n      if (validPass && validPassConf || validPass && this.emailFound) { // eslint-disable-line no-mixed-operators\n        this.submitButtonDisabled = false;\n      } else {\n        this.submitButtonDisabled = true;\n      }\n    },\n    submitPassword() {\n      this.submitButtonDisabled = true;\n      return this.$store.dispatch('CREATE_USER', {\n        email: this.email,\n        password: this.form.password,\n      })\n        .then((data) => {\n          this.$emit('success', { data });\n        })\n        .catch((err) => {\n          this.$emit('err', { err });\n          console.log(err);\n        });\n    },\n  },\n  mounted() {\n    // get a response on whether the email has been already used\n    return this.$store.dispatch('LOOK_UP_EMAIL', {\n      email: this.email,\n    })\n      .then((data) => {\n        if (data) {\n          this.emailFound = true;\n        } else {\n          this.emailFound = false;\n        }\n      })\n      .catch((err) => {\n        console.log('error: ', err);\n      });\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.form-submit-wrapper {\n  margin: 20px auto;\n  text-align: center;\n}\n\np {\n  margin-bottom: 30px;\n}\n.donate-view {\n  .page-title {\n    text-align: center;\n    color: $color-text;\n    font-weight: bold;\n    &__first {\n      display: block;\n      font-weight: bold;\n      font-size: 30px;\n      margin-bottom: 10px;\n\n      @include breakpoint($tablet) {\n        margin-bottom: 0;\n      }\n    }\n    &__second {\n      color: $color-emphasis-alt;\n    }\n  }\n}\n\n.parent__nonprofit {\n  .page-title {\n    &__first {\n      font-weight: normal;\n      font-size: 26px;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonateThankYou.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonateThankYou.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DonateThankYou.vue?vue&type=template&id=780754b4&scoped=true&\"\nimport script from \"./DonateThankYou.vue?vue&type=script&lang=js&\"\nexport * from \"./DonateThankYou.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DonateThankYou.vue?vue&type=style&index=0&id=780754b4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"780754b4\",\n  null\n  \n)\n\ncomponent.options.__file = \"DonateThankYou.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogInModal.vue?vue&type=style&index=0&id=2cbdc909&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogInModal.vue?vue&type=style&index=0&id=2cbdc909&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"modal\",class:{'is-active': _vm.showingLoginModal},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.validateSubmit()}}},[_c('div',{staticClass:\"modal-background\",on:{\"click\":function($event){_vm.closeLoginBox()}}}),_c('div',{staticClass:\"modal-content donate-view donate-view__wrapper inner-close small-modal\"},[_c('h1',{staticClass:\"title-centered\"},[_vm._t(\"heading\",[(_vm.loggedIn)?_c('span',[_vm._v(\"Your account\")]):_vm._e(),(!_vm.loggedIn && !_vm.register)?_c('span',[_vm._v(\"Login\")]):_vm._e(),(!_vm.loggedIn && _vm.register)?_c('span',[_vm._v(\"Register\")]):_vm._e()])],2),_vm._t(\"intro\",[(!_vm.loggedIn)?_c('p',{staticClass:\"is-centered\"},[_vm._v(\"Please log in with your email and password:\")]):_vm._e()]),_c('div',{staticClass:\"centered\"},[(_vm.loggedIn)?_c('p',[_vm._v(\"You are logged in as \"+_vm._s(_vm.userName))]):_vm._e(),(_vm.loggedIn)?_c('UserManagementLinks',{attrs:{\"layout\":\"header\"},on:{\"goto:account\":function($event){_vm.closeLoginBox()}}}):_vm._e(),(_vm.loggedIn)?_c('div',{on:{\"click\":function($event){_vm.logUserOut()}}},[_c('a',[_vm._v(\"Log Out »\")])]):_vm._e()],1),_c('transition',{attrs:{\"name\":\"slide-fade\",\"mode\":\"out-in\"}},[(!_vm.loggedIn)?_c('div',[_c('form',{on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.validateSubmit()}}},[(_vm.requireName)?_c('InputName',{attrs:{\"label\":\"Email (for the receipt):\",\"required\":true},on:{\"input:valid\":function($event){_vm.validateAllFields()},\"input:invalid\":function($event){_vm.validateAllFields()},\"input:first\":function($event){_vm.form.firstname = $event; _vm.errorMessage = ''},\"input:last\":function($event){_vm.form.lastname = $event; _vm.errorMessage = ''}}}):_vm._e(),_c('InputEmail',{attrs:{\"label\":\"Email\",\"required\":true},on:{\"input:valid\":function($event){_vm.validateAllFields()},\"input:invalid\":function($event){_vm.validateAllFields()},\"input:email\":function($event){_vm.setEmail($event)}}}),_c('InputPassword',{attrs:{\"label\":\"Password\",\"required\":true,\"duplicate\":_vm.register,\"provide-feedback\":_vm.register,\"error-message\":_vm.errorMessage},on:{\"input:valid\":function($event){_vm.validateAllFields()},\"input:invalid\":function($event){_vm.validateAllFields()},\"input:password\":function($event){_vm.form.password = $event; _vm.errorMessage = ''},\"input:passwordConfirmation\":function($event){_vm.form.passwordConfirmation = $event; _vm.errorMessage = ''}}})],1),_c('div',{staticClass:\"columns form-column__wrapper form-column__extra-padded input-line password-input-wrapper\"},[_c('div',{staticClass:\"column is-5 form-column__label-column input-label\"}),_c('div',{staticClass:\"column is-5 form-column__input-column\"},[_c('ModalForgetPassword',{key:_vm.forgetPasswordEmail,attrs:{\"email\":_vm.forgetPasswordEmail}})],1)]),_c('div',{staticClass:\"columns is-centered\"},[_c('div',{staticClass:\"form-submit-wrapper\",on:{\"click\":function($event){$event.preventDefault();_vm.loginOrRegister()}}},[_c('button',{staticClass:\"button is-large is-danger\",attrs:{\"disabled\":_vm.submitButtonDisabled}},[_vm._v(\"Submit\")])])]),_c('SocialLogin',[_c('div',{staticClass:\"social-login-wrapper columns is-centered\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('p',{staticClass:\"is-centered\"},[_vm._v(\"Or with one of the following services:\")])])])],1):_vm._e()]),_c('button',{staticClass:\"modal-close is-large\",attrs:{\"aria-label\":\"close\"},on:{\"click\":function($event){$event.preventDefault();_vm.closeLoginBox()}}})],2)]),(_vm.layout === 'social-signup')?_c('div',[_c('SocialLogin',{attrs:{\"show-only\":_vm.showOnly}})],1):_vm._e(),(_vm.layout === 'app-header')?_c('div',[(!_vm.loggedIn)?_c('div',[_c('span',{on:{\"click\":function($event){_vm.openLoginBox()}}},[_c('a',[_vm._v(\"Login\")])]),_vm._v(\"\\n      |\\n      \"),_c('span',{on:{\"click\":function($event){_vm.openLoginBox()}}},[_c('a',[_vm._v(\"Register\")])])]):_vm._e(),(_vm.loggedIn)?_c('div',{on:{\"click\":function($event){_vm.openLoginBox()}}},[_vm._t(\"logged\",[_c('a',[_vm._v(_vm._s(_vm.userName)+\" »\")])])],2):_vm._e()]):_vm._e(),(!_vm.layout)?_c('div',[(!_vm.loggedIn)?_c('div',{staticClass:\"trigger\"},[_c('span',{on:{\"click\":function($event){_vm.openLoginBox()}}},[_vm._t(\"trigger\")],2)]):_vm._e(),_vm._t(\"intro\")],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div\n      class=\"modal\"\n      :class=\"{'is-active': showingLoginModal}\"\n      v-on:keyup.enter=\"validateSubmit()\"\n    >\n      <div class=\"modal-background\" @click=\"closeLoginBox()\"></div>\n      <div class=\"modal-content donate-view donate-view__wrapper inner-close small-modal\">\n        <h1 class=\"title-centered\">\n          <slot name=\"heading\">\n            <span v-if=\"loggedIn\">Your account</span>\n            <span v-if=\"!loggedIn && !register\">Login</span>\n            <span v-if=\"!loggedIn && register\">Register</span>\n          </slot>\n        </h1>\n        <slot name=\"intro\">\n          <p class=\"is-centered\" v-if=\"!loggedIn\">Please log in with your email and password:</p>\n        </slot>\n        <div class=\"centered\">\n          <p v-if=\"loggedIn\">You are logged in as {{userName}}</p>\n          <UserManagementLinks\n            v-if=\"loggedIn\"\n            layout=\"header\"\n            v-on:goto:account=\"closeLoginBox()\"\n          ></UserManagementLinks>\n          <div @click=\"logUserOut()\" v-if=\"loggedIn\"><a>Log Out »</a></div>\n        </div>\n        <transition name=\"slide-fade\" mode=\"out-in\">\n          <div v-if=\"!loggedIn\">\n            <form v-on:keyup.enter=\"validateSubmit()\">\n              <InputName\n                label=\"Email (for the receipt):\"\n                :required=\"true\"\n                v-if=\"requireName\"\n                v-on:input:valid=\"validateAllFields()\"\n                v-on:input:invalid=\"validateAllFields()\"\n                v-on:input:first=\"form.firstname = $event; errorMessage = ''\"\n                v-on:input:last=\"form.lastname = $event; errorMessage = ''\"\n              ></InputName>\n              <InputEmail\n                label=\"Email\"\n                :required=\"true\"\n                v-on:input:valid=\"validateAllFields()\"\n                v-on:input:invalid=\"validateAllFields()\"\n                v-on:input:email=\"setEmail($event)\"\n              ></InputEmail>\n              <InputPassword\n                label=\"Password\"\n                :required=\"true\"\n                :duplicate=\"register\"\n                :provide-feedback=\"register\"\n                :error-message=\"errorMessage\"\n                v-on:input:valid=\"validateAllFields()\"\n                v-on:input:invalid=\"validateAllFields()\"\n                v-on:input:password=\"form.password = $event; errorMessage = ''\"\n                v-on:input:passwordConfirmation=\"form.passwordConfirmation = $event; errorMessage = ''\"\n              ></InputPassword>\n            </form>\n            <div class=\"columns form-column__wrapper form-column__extra-padded input-line password-input-wrapper\">\n              <div class=\"column is-5 form-column__label-column input-label\"></div>\n              <div class=\"column is-5 form-column__input-column\">\n                <ModalForgetPassword\n                  :key=\"forgetPasswordEmail\"\n                  :email=\"forgetPasswordEmail\"\n                ></ModalForgetPassword>\n              </div>\n            </div>\n            <div class=\"columns is-centered\">\n              <div class=\"form-submit-wrapper\" @click.prevent=\"loginOrRegister()\">\n                <button class=\"button is-large is-danger\"\n                  :disabled=\"submitButtonDisabled\"\n                >Submit</button>\n              </div>\n            </div>\n            <SocialLogin>\n              <div slot=\"header\" class=\"social-login-wrapper columns is-centered\">\n                <p class=\"is-centered\">Or with one of the following services:</p>\n              </div>\n            </SocialLogin>\n          </div>\n        </transition>\n        <button class=\"modal-close is-large\" aria-label=\"close\" @click.prevent=\"closeLoginBox()\"></button>\n      </div>\n    </div>\n    <div v-if=\"layout === 'social-signup'\">\n      <SocialLogin :show-only=\"showOnly\"></SocialLogin>\n    </div>\n    <div v-if=\"layout === 'app-header'\">\n      <div v-if=\"!loggedIn\">\n        <span @click=\"openLoginBox()\">\n          <a>Login</a>\n        </span>\n        |\n        <span @click=\"openLoginBox()\">\n          <a>Register</a>\n        </span>\n      </div>\n      <div @click=\"openLoginBox()\" v-if=\"loggedIn\">\n        <slot name=\"logged\"><a>{{userName}} »</a></slot>\n      </div>\n    </div>\n    <div v-if=\"!layout\">\n      <div class=\"trigger\" v-if=\"!loggedIn\">\n        <span @click=\"openLoginBox()\">\n          <slot name=\"trigger\"></slot>\n        </span>\n      </div>\n      <slot name=\"intro\"></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Icons from '@/components/general/Icons.vue';\nimport ModalForgetPassword from '@/components/login/ModalForgetPassword.vue';\nimport InputEmail from '@/components/input/InputEmail.vue';\nimport InputName from '@/components/input/InputName.vue';\nimport InputPassword from '@/components/input/InputPassword.vue';\nimport SocialLogin from '@/components/login/SocialLogin.vue';\nimport * as validator from '../../util/validator.js';\n\nexport default {\n  props: ['layout', 'login', 'signup', 'showOnly', 'display', 'requireName', 'register'],\n  components: {\n    Icons,\n    InputEmail,\n    InputName,\n    InputPassword,\n    ModalForgetPassword,\n    SocialLogin,\n    UserManagementLinks: () => import('@/components/login/UserManagementLinks.vue'),\n  },\n  data() {\n    return {\n      showingLoginModal: this.display || false,\n      errorMessage: '',\n      welcomeMessage: '',\n      submitButtonDisabled: true,\n      form: {},\n      forgetPasswordEmail: '',\n      timeout: null,\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.user.loggedIn;\n    },\n    userName() {\n      return this.$store.state.user.fullname;\n    },\n  },\n  methods: {\n    setEmail(event) {\n      this.form.email = event;\n      this.forgetPasswordEmail = event;\n    },\n    openLoginBox() {\n      this.showingLoginModal = true;\n    },\n    closeLoginBox() {\n      this.showingLoginModal = false;\n      clearTimeout(this.timeout);\n      this.$emit('modal:close');\n    },\n    logUserOut() {\n      this.$store.commit('LOG_OFF', { status: false });\n      this.closeLoginBox();\n    },\n    validateSubmit() {\n      if (!this.submitButtonDisabled) {\n        this.logUserIn();\n      }\n    },\n    loginOrRegister() {\n      if (this.register) {\n        this.closeLoginBox();\n      } else {\n        this.logUserIn();\n      }\n    },\n    validateAllFields() {\n      const validName = validator.validateName(this.form.firstname) && validator.validateName(this.form.lastname);\n      const validPass = validator.validatePassword(this.form.password) && !this.register || validator.validatePassword(this.form.password) && this.form.password === this.form.passwordConfirmation;\n      if (validPass && validator.validateEmail(this.form.email) && (validName && this.requireName || !this.requireName)) {\n        this.submitButtonDisabled = false;\n      } else {\n        this.submitButtonDisabled = true;\n      }\n    },\n    logUserIn() {\n      if (!this.submitButtonDisabled) {\n        this.submitButtonDisabled = true;\n        return this.$store.dispatch('AUTHENTICATE_USER', {\n          email: this.form.email,\n          password: this.form.password,\n        })\n          .then((data) => {\n            if (data) {\n              // provide some feedback\n              this.welcomeMessage = `You are logged in, ${this.userName}`;\n              this.$emit('modal:logged');\n              this.timeout = setTimeout(() => {\n                this.showingLoginModal = false;\n              }, 6000);\n            } else {\n              this.validateAllFields();\n              this.errorMessage = 'Wrong password or email does not exist';\n            }\n          })\n          .catch((err) => {\n            console.log('error: ', err);\n          });\n      }\n    },\n  },\n  watch: {\n    display(value) {\n      if (value) {\n        this.showingLoginModal = value;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.trigger {\n  &:hover {\n    cursor: pointer;\n  }\n}\n.billing-info {\n  .trigger {\n    text-decoration: underline;\n    color: $color-emphasis-alt;\n    &:hover {\n      color: $color-gray;\n    }\n  }\n}\n\nul {\n  margin-left: 30px;\n  font-size: 20px;\n}\n\nli {\n  list-style-type: disc;\n}\n\n.form-submit-wrapper {\n  text-align: center;\n  margin: 20px 0;\n\n  @include breakpoint($mobile) {\n    margin: 30px 0;\n  }\n}\n.social-login-wrapper {\n  margin: 30px 0;\n}\n.input-line {\n  margin-bottom: 15px !important;\n}\n.centered {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogInModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LogInModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LogInModal.vue?vue&type=template&id=2cbdc909&scoped=true&\"\nimport script from \"./LogInModal.vue?vue&type=script&lang=js&\"\nexport * from \"./LogInModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LogInModal.vue?vue&type=style&index=0&id=2cbdc909&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cbdc909\",\n  null\n  \n)\n\ncomponent.options.__file = \"LogInModal.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonateThankYou.vue?vue&type=style&index=0&id=780754b4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonateThankYou.vue?vue&type=style&index=0&id=780754b4&scoped=true&lang=scss&\""],"sourceRoot":""}